<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Secure Asset Transfer Protocol (SATP) Core</title>
<meta content="Martin Hargreaves" name="author">
<meta content="Thomas Hardjono" name="author">
<meta content="Rafael Belchior" name="author">
<meta content="Venkatraman Ramakrishna" name="author">
<meta content="
       This memo describes the Secure Asset Transfer (SAT) Protocol for digital assets. SAT is a protocol operating between two gateways that conducts the transfer of a digital asset from one gateway to another, each representing their corresponding digital asset networks. The protocol establishes a secure channel between the endpoints and implements a 2-phase commit (2PC) to ensure the properties of transfer atomicity, consistency, isolation and durability. 
    " name="description">
<meta content="xml2rfc 3.23.2" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-ietf-satp-core-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.23.2
    Python 3.12.6
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.4
    lxml 4.9.4
    platformdirs 4.3.6
    pycountry 22.3.5
    PyYAML 6.0.1
    requests 2.32.3
    setuptools 70.3.0
    wcwidth 0.2.13
-->
<link href="draft-ietf-satp-core.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 1;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
}
dl.olPercent {
  --indent: 5ch;
}
dl > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl.dlNewline > dt {
  float: none;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
dl.olPercent > dt {
  min-width: calc(var(--indent) - 2ch);
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:first-child, .break:first-child + *) {
  margin-top: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:last-child) {
  margin-bottom: 0;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0;
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
}
#identifiers dt {
  width: var(--identifier-width);
  min-width: var(--identifier-width);
  clear: left;
  float: left;
  text-align: right;
  margin-right: 1ch;
}
#identifiers dd {
  margin: 0;
  margin-left: calc(1em + var(--identifier-width)) !important;
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 2px 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 10ch;
  margin-right: 1.5ch;
}
.references dt:target::before {
  content: "⇒";
  width: 15px;
  margin: 0 10px 0 -25px;
}
.references dd {
  margin-left: 12ch !important;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
  .toplink {
    display: none;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">SATP Core</td>
<td class="right">October 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Hargreaves, et al.</td>
<td class="center">Expires 6 April 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Secure Asset Transfer Protocol</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-satp-core-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2024-10-03" class="published">3 October 2024</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-04-06">6 April 2025</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Hargreaves</div>
<div class="org">Quant Network</div>
</div>
<div class="author">
      <div class="author-name">T. Hardjono</div>
<div class="org">MIT</div>
</div>
<div class="author">
      <div class="author-name">R. Belchior</div>
<div class="org">INESC-ID, Técnico Lisboa, Blockdaemon</div>
</div>
<div class="author">
      <div class="author-name">V. Ramakrishna</div>
<div class="org">IBM</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Secure Asset Transfer Protocol (SATP) Core</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This memo describes the Secure Asset Transfer (SAT) Protocol for digital assets. SAT is a protocol operating between two gateways that conducts the transfer of a digital asset from one gateway to another, each representing their corresponding digital asset networks. The protocol establishes a secure channel between the endpoints and implements a 2-phase commit (2PC) to ensure the properties of transfer atomicity, consistency, isolation and durability.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        The latest revision of this draft can be found at <span><a href="https://ietf-satp.github.io/draft-ietf-satp-core/draft-ietf-satp-core.html">https://ietf-satp.github.io/draft-ietf-satp-core/draft-ietf-satp-core.html</a></span>.
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-ietf-satp-core/">https://datatracker.ietf.org/doc/draft-ietf-satp-core/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        Secure Asset Transfer Protocol Working Group mailing list (<span><a href="mailto:sat@ietf.org">mailto:sat@ietf.org</a></span>),
        which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/sat/">https://mailarchive.ietf.org/arch/browse/sat/</a></span>.
        Subscribe at <span><a href="https://www.ietf.org/mailman/listinfo/sat/">https://www.ietf.org/mailman/listinfo/sat/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/ietf-satp/draft-ietf-satp-core">https://github.com/ietf-satp/draft-ietf-satp-core</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 6 April 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-conventions-used-in-this-do" class="internal xref">Conventions used in this document</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-the-secure-asset-transfer-p" class="internal xref">The Secure Asset Transfer Protocol</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-overview" class="internal xref">Overview</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-sat-model" class="internal xref">SAT Model</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-stages-of-the-protocol" class="internal xref">Stages of the Protocol</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="auto internal xref">4.4</a>.  <a href="#name-gateway-cryptographic-keys" class="internal xref">Gateway Cryptographic Keys</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-satp-message-format-identif" class="internal xref">SATP Message Format, identifiers and Descriptors</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-overview-2" class="internal xref">Overview</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-satp-message-format-and-pay" class="internal xref">SATP Message Format and Payloads</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="auto internal xref">5.2.1</a>.  <a href="#name-protocol-version" class="internal xref">Protocol version</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a href="#section-5.2.2" class="auto internal xref">5.2.2</a>.  <a href="#name-message-type" class="internal xref">Message Type</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.3">
                    <p id="section-toc.1-1.5.2.2.2.3.1"><a href="#section-5.2.3" class="auto internal xref">5.2.3</a>.  <a href="#name-digital-asset-identifier" class="internal xref">Digital Asset Identifier</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.4">
                    <p id="section-toc.1-1.5.2.2.2.4.1"><a href="#section-5.2.4" class="auto internal xref">5.2.4</a>.  <a href="#name-transfer-context-id" class="internal xref">Transfer-Context ID:</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.5">
                    <p id="section-toc.1-1.5.2.2.2.5.1"><a href="#section-5.2.5" class="auto internal xref">5.2.5</a>.  <a href="#name-session-id" class="internal xref">Session ID:</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.6">
                    <p id="section-toc.1-1.5.2.2.2.6.1"><a href="#section-5.2.6" class="auto internal xref">5.2.6</a>.  <a href="#name-sequence-number" class="internal xref">Sequence Number:</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.7">
                    <p id="section-toc.1-1.5.2.2.2.7.1"><a href="#section-5.2.7" class="auto internal xref">5.2.7</a>.  <a href="#name-gateway-credential-type" class="internal xref">Gateway Credential Type</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.8">
                    <p id="section-toc.1-1.5.2.2.2.8.1"><a href="#section-5.2.8" class="auto internal xref">5.2.8</a>.  <a href="#name-gateway-credential" class="internal xref">Gateway Credential</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.9">
                    <p id="section-toc.1-1.5.2.2.2.9.1"><a href="#section-5.2.9" class="auto internal xref">5.2.9</a>.  <a href="#name-payload-hash" class="internal xref">Payload Hash</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.10">
                    <p id="section-toc.1-1.5.2.2.2.10.1"><a href="#section-5.2.10" class="auto internal xref">5.2.10</a>. <a href="#name-signature-algorithms-suppor" class="internal xref">Signature Algorithms Supported</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.11">
                    <p id="section-toc.1-1.5.2.2.2.11.1"><a href="#section-5.2.11" class="auto internal xref">5.2.11</a>. <a href="#name-message-signature" class="internal xref">Message Signature</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.12">
                    <p id="section-toc.1-1.5.2.2.2.12.1"><a href="#section-5.2.12" class="auto internal xref">5.2.12</a>. <a href="#name-lock-assertion-claims-and-f" class="internal xref">Lock assertion Claims and Format</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-negotiation-of-security-pro" class="internal xref">Negotiation of Security Protocols and Parameters</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a href="#section-5.3.1" class="auto internal xref">5.3.1</a>.  <a href="#name-tls-secure-channel-establis" class="internal xref">TLS Secure Channel Establishment</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.2">
                    <p id="section-toc.1-1.5.2.3.2.2.1"><a href="#section-5.3.2" class="auto internal xref">5.3.2</a>.  <a href="#name-client-offers-supported-cre" class="internal xref">Client offers supported credential schemes</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.3">
                    <p id="section-toc.1-1.5.2.3.2.3.1"><a href="#section-5.3.3" class="auto internal xref">5.3.3</a>.  <a href="#name-server-selects-supported-cr" class="internal xref">Server selects supported credential scheme</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.4">
                    <p id="section-toc.1-1.5.2.3.2.4.1"><a href="#section-5.3.4" class="auto internal xref">5.3.4</a>.  <a href="#name-client-asserts-or-proves-id" class="internal xref">Client asserts or proves identity</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.5">
                    <p id="section-toc.1-1.5.2.3.2.5.1"><a href="#section-5.3.5" class="auto internal xref">5.3.5</a>.  <a href="#name-sequence-numbers-initialize" class="internal xref">Sequence numbers initialized</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.6">
                    <p id="section-toc.1-1.5.2.3.2.6.1"><a href="#section-5.3.6" class="auto internal xref">5.3.6</a>.  <a href="#name-messages-can-now-be-exchang" class="internal xref">Messages can now be exchanged</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="auto internal xref">5.4</a>.  <a href="#name-asset-profile-identificatio" class="internal xref">Asset Profile Identification</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-overview-of-message-flows" class="internal xref">Overview of Message Flows</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-identity-and-asset-verifica" class="internal xref">Identity and Asset Verification Stage (Stage 0)</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-transfer-initiation-stage-s" class="internal xref">Transfer Initiation Stage (Stage 1)</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-transfer-initialization-cla" class="internal xref">Transfer Initialization Claims</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-conveyance-of-gateway-and-n" class="internal xref">Conveyance of Gateway and Network Capabilities</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="auto internal xref">8.3</a>.  <a href="#name-transfer-proposal-message" class="internal xref">Transfer Proposal Message</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a href="#section-8.4" class="auto internal xref">8.4</a>.  <a href="#name-transfer-proposal-receipt-m" class="internal xref">Transfer Proposal Receipt Message</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.5">
                <p id="section-toc.1-1.8.2.5.1"><a href="#section-8.5" class="auto internal xref">8.5</a>.  <a href="#name-transfer-proposal-reject-me" class="internal xref">Transfer Proposal Reject Message</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.6">
                <p id="section-toc.1-1.8.2.6.1"><a href="#section-8.6" class="auto internal xref">8.6</a>.  <a href="#name-transfer-commence-message" class="internal xref">Transfer Commence Message</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.7">
                <p id="section-toc.1-1.8.2.7.1"><a href="#section-8.7" class="auto internal xref">8.7</a>.  <a href="#name-commence-response-message-a" class="internal xref">Commence Response Message (ACK-Commence)</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-lock-assertion-stage-stage-" class="internal xref">Lock Assertion Stage (Stage 2)</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-lock-assertion-message" class="internal xref">Lock Assertion Message</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-lock-assertion-receipt-mess" class="internal xref">Lock Assertion Receipt Message</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-commitment-preparation-and-" class="internal xref">Commitment Preparation and Finalization (Stage 3)</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref">10.1</a>.  <a href="#name-commit-preparation-message-" class="internal xref">Commit Preparation Message (Commit-Prepare)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="auto internal xref">10.2</a>.  <a href="#name-commit-ready-message-commit" class="internal xref">Commit Ready Message (Commit-Ready)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="auto internal xref">10.3</a>.  <a href="#name-commit-final-assertion-mess" class="internal xref">Commit Final Assertion Message (Commit-Final)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a href="#section-10.4" class="auto internal xref">10.4</a>.  <a href="#name-commit-final-acknowledgemen" class="internal xref">Commit-Final Acknowledgement Receipt Message (ACK-Final-Receipt)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5">
                <p id="section-toc.1-1.10.2.5.1"><a href="#section-10.5" class="auto internal xref">10.5</a>.  <a href="#name-transfer-complete-message" class="internal xref">Transfer Complete Message</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-satp-session-resumption" class="internal xref">SATP Session Resumption</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="auto internal xref">11.1</a>.  <a href="#name-primary-backup-session-resu" class="internal xref">Primary-Backup Session Resumption</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="auto internal xref">11.2</a>.  <a href="#name-recovery-messages" class="internal xref">Recovery Messages</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-error-messages" class="internal xref">Error Messages</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="auto internal xref">12.1</a>.  <a href="#name-closure-alerts" class="internal xref">Closure Alerts</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="auto internal xref">12.2</a>.  <a href="#name-error-alerts" class="internal xref">Error Alerts</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="auto internal xref">13</a>. <a href="#name-security-consideration" class="internal xref">Security Consideration</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="auto internal xref">14</a>. <a href="#name-iana-consideration" class="internal xref">IANA Consideration</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-15" class="auto internal xref">15</a>. <a href="#name-appendix-error-types" class="internal xref">Appendix: Error Types</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.1">
                <p id="section-toc.1-1.15.2.1.1"><a href="#section-15.1" class="auto internal xref">15.1</a>.  <a href="#name-transfer-commence-and-respo" class="internal xref">Transfer Commence and Response errors</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.2">
                <p id="section-toc.1-1.15.2.2.1"><a href="#section-15.2" class="auto internal xref">15.2</a>.  <a href="#name-lock-assertion-errors" class="internal xref">Lock Assertion errors</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.3">
                <p id="section-toc.1-1.15.2.3.1"><a href="#section-15.3" class="auto internal xref">15.3</a>.  <a href="#name-lock-assertion-receipt-erro" class="internal xref">Lock Assertion Receipt errors</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.4">
                <p id="section-toc.1-1.15.2.4.1"><a href="#section-15.4" class="auto internal xref">15.4</a>.  <a href="#name-commit-preparation-errors" class="internal xref">Commit Preparation errors</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.5">
                <p id="section-toc.1-1.15.2.5.1"><a href="#section-15.5" class="auto internal xref">15.5</a>.  <a href="#name-commit-preparation-acknowle" class="internal xref">Commit Preparation Acknowledgement errors</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.6">
                <p id="section-toc.1-1.15.2.6.1"><a href="#section-15.6" class="auto internal xref">15.6</a>.  <a href="#name-commit-ready-errors" class="internal xref">Commit Ready errors</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.7">
                <p id="section-toc.1-1.15.2.7.1"><a href="#section-15.7" class="auto internal xref">15.7</a>.  <a href="#name-commit-final-assertion-erro" class="internal xref">Commit Final Assertion errors</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#section-16" class="auto internal xref">16</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.1">
                <p id="section-toc.1-1.16.2.1.1"><a href="#section-16.1" class="auto internal xref">16.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.2">
                <p id="section-toc.1-1.16.2.2.1"><a href="#section-16.2" class="auto internal xref">16.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<div id="introduction-doc">
<p id="section-1-1">This memo proposes a secure asset transfer protocol (SATP) that is intended to be deployed between two gateway endpoints to transfer a digital asset from an origin asset network to a destination asset network.
Readers are directed first to <span>[<a href="#ARCH" class="cite xref">ARCH</a>]</span> for a description of the architecture underlying the current protocol.<a href="#section-1-1" class="pilcrow">¶</a></p>
</div>
<p id="section-1-2">Both the origin and destination asset networks are assumed to be opaque
in the sense that the interior construct of a given network
is not read/write accessible to unauthorized entities.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">The protocol utilizes the asset burn-and-mint paradigm whereby the asset
to be transferred is permanently disabled or destroyed (burned)
at the origin asset network and is re-generated (minted) at the destination asset network.
This is achieved through the coordinated actions of the peer gateways
handling the unidirectional transfer at the respective networks.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">A gateway is assumed to be trusted to perform the tasks involved in the asset transfer.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">The overall aim of the protocol is to ensure that the state of assets
in the origin and destination networks remain consistent,
and that asset movements into (out of) networks via gateways can be accounted for.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">There are several desirable technical properties of the protocol.
The protocol must ensure that the properties of atomicity, consistency,
isolation, and durability (ACID) are satisfied.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">The requirement of consistency implies that the
asset transfer protocol always leaves both asset networks
in a consistent state (that the asset is located in
one system/network only at any time).<a href="#section-1-7" class="pilcrow">¶</a></p>
<p id="section-1-8">Atomicity means that the protocol must guarantee
that either the transfer commits (completes) or entirely fails,
where failure is taken to mean there is no change to the
state of the asset in the origin (sender) asset network.<a href="#section-1-8" class="pilcrow">¶</a></p>
<p id="section-1-9">The property of isolation means that while a transfer
is occurring to a digital asset from an origin network,
no other state changes can occur to the asset.<a href="#section-1-9" class="pilcrow">¶</a></p>
<p id="section-1-10">The property of durability means that once
the transfer has been committed by both gateways,
that this commitment must hold regardless of subsequent
unavailability (e.g. crash) of the gateways implementing the SAT protocol.<a href="#section-1-10" class="pilcrow">¶</a></p>
<p id="section-1-11">All messages exchanged between gateways are assumed to run over TLS1.2,
and the endpoints at the respective gateways are associated with
a certificate indicating the legal owner (or operator) of the gateway.<a href="#section-1-11" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conventions-used-in-this-document">
<section id="section-2">
      <h2 id="name-conventions-used-in-this-do">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-used-in-this-do" class="section-name selfRef">Conventions used in this document</a>
      </h2>
<div id="conventions">
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL"
in this document are to be interpreted as described in RFC 2119 <span>[<a href="#REQ-LEVEL" class="cite xref">REQ-LEVEL</a>]</span>.<a href="#section-2-1" class="pilcrow">¶</a></p>
</div>
<p id="section-2-2">In this document, these words will appear with that interpretation
only when in ALL CAPS. Lower case uses of these words are not to be
interpreted as carrying significance described in RFC 2119.<a href="#section-2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-3">
      <h2 id="name-terminology">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<div id="terminology-doc">
<p id="section-3-1">The following are some terminology used in the current document, some borrowed from <span>[<a href="#NIST" class="cite xref">NIST</a>]</span>:<a href="#section-3-1" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-3-2.1">
          <p id="section-3-2.1.1">Digital asset: digital representation of a value or of a right that is able to be
transferred and stored electronically using distributed ledger technology or similar technology <span>[<a href="#MICA" class="cite xref">MICA</a>]</span>.<a href="#section-3-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-2.2">
          <p id="section-3-2.2.1">Asset network: A monolithic system or a set of distributed systems that manage digital assets.<a href="#section-3-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-2.3">
          <p id="section-3-2.3.1">Client application: This is the application employed by a user
to interact with a gateway.<a href="#section-3-2.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-2.4">
          <p id="section-3-2.4.1">Gateway: The computer system functionally capable of acting
as a gateway in an asset transfer.<a href="#section-3-2.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-2.5">
          <p id="section-3-2.5.1">Sender gateway: The gateway that initiates a unidirectional asset transfer.<a href="#section-3-2.5.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-2.6">
          <p id="section-3-2.6.1">Recipient gateway: The gateway that is the recipient side of
a unidirectional asset transfer.<a href="#section-3-2.6.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-2.7">
          <p id="section-3-2.7.1">Claim: An assertion made by an Entity <span>[<a href="#JWT" class="cite xref">JWT</a>]</span>.<a href="#section-3-2.7.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-2.8">
          <p id="section-3-2.8.1">Claim Type: Syntax used for representing a Claim Value <span>[<a href="#JWT" class="cite xref">JWT</a>]</span>.<a href="#section-3-2.8.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-2.9">
          <p id="section-3-2.9.1">Gateway Claim: An assertion made by a Gateway regarding the status or
condition of resources (e.g. assets, public keys, etc.)
accessible to that gateway (e.g. within its asset network or system).<a href="#section-3-2.9.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-3-3">In the remainder of this document, for brevity of description the term “asset network” will often be shorted to "network".<a href="#section-3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="the-secure-asset-transfer-protocol">
<section id="section-4">
      <h2 id="name-the-secure-asset-transfer-p">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-the-secure-asset-transfer-p" class="section-name selfRef">The Secure Asset Transfer Protocol</a>
      </h2>
<div id="satp-protocol">
<section id="section-4.1">
        <h3 id="name-overview">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-overview" class="section-name selfRef">Overview</a>
        </h3>
<div id="satp-overview">
<p id="section-4.1-1">The Secure Asset Transfer Protocol (SATP) is a gateway-to-gateway protocol used by a sender gateway with a recipient gateway to perform a unidirectional transfer of a digital asset.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
</div>
<p id="section-4.1-2">The protocol defines a number of API endpoints, resources and identifier definitions, and message flows corresponding to the asset transfer between the two gateways.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">The current document pertains to the interaction between gateways through API2 [SATP-ARCH].<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4"><code>
                 +----------+                +----------+
                 |  Client  |                | Off-net  |
          ------ |   (App)  |                | Resource |
          |      +----------+                +----------+
          |           |                      |   API3   |
          |           |                      +----------+
          |           |                           ^
          |           V                           |
          |      +---------+                      |
          V      |   API1  |                      |
       +-----+   +---------+----+        +----+---------+   +-----+
       |     |   |         |    |        |    |         |   |     |
       | Net.|   | Gateway |API2|        |API2| Gateway |   | Net.|
       | NW1 |---|    G1   |    |&lt;------&gt;|    |    G2   |---| NW2 |
       |     |   |         |    |        |    |         |   |     |
       +-----+   +---------+----+        +----+---------+   +-----+
</code><a href="#section-4.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="satp-fig-overview">
<section id="section-4.2">
        <h3 id="name-sat-model">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-sat-model" class="section-name selfRef">SAT Model</a>
        </h3>
<div id="satp-model">
<p id="section-4.2-1">The model for SATP is shown in Figure 1 [SATP-ARCH].
The Client (application) interacts with its local gateway (G1) over an interface (API1) in order to provide instructions to the gateway with regards to actions to assets and related resources located in the local system or network (NW1).<a href="#section-4.2-1" class="pilcrow">¶</a></p>
</div>
<p id="section-4.2-2">Gateways interact with each other over a gateway interface (API2). A given gateway may be required to access resources that are not located in network NW1 or network NW2. Access to these types of resources are performed over an off-network interface (API3).<a href="#section-4.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="stages-of-the-protocol">
<section id="section-4.3">
        <h3 id="name-stages-of-the-protocol">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-stages-of-the-protocol" class="section-name selfRef">Stages of the Protocol</a>
        </h3>
<div id="satp-flowtypes">
<p id="section-4.3-1">The SAT protocol defines three (3) stages for a unidirectional asset transfer. These stages occur following the transfer set-up.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-4.3-2.1">
            <p id="section-4.3-2.1.1">Transfer Initiation stage (Stage-1):
These flows deal with commencing a transfer from one gateway to another. Several tasks are involved, including (but not limited to):
(i) gateway identification and mutual authentication;
(ii) exchange of asset type (definition) information;
(iii) verification of the asset definition, and others.<a href="#section-4.3-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.3-2.2">
            <p id="section-4.3-2.2.1">Lock-Assertion stage (Stage-2):
These flows deal with the conveyance of signed assertions from the sender gateway to the receiver gateway
regarding the locked status of an asset at the origin asset network.<a href="#section-4.3-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.3-2.3">
            <p id="section-4.3-2.3.1">Commitment Preparation and Finalization stage (Stage-3):
These flows deal with the asset transfer and commitment establishment between two gateways.<a href="#section-4.3-2.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.3-3">In order to clarify discussion, the interactions between the peer gateways prior to transfer initiation stage is referred to as the setup stage (Stage-0), which is outside the scope of the current specification.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">The Stage-1, Stage-2 and Stage-3 flows will be discussed below.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="gateway-cryptographic-keys">
<section id="section-4.4">
        <h3 id="name-gateway-cryptographic-keys">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-gateway-cryptographic-keys" class="section-name selfRef">Gateway Cryptographic Keys</a>
        </h3>
<p id="section-4.4-1">SATP recognizes the following cryptographic keys which are intended for distinct purposes within the different stages of the protocol.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.4-2.1">
            <p id="section-4.4-2.1.1">Gateway signature public key-pair: This is the key-pair utilized by a gateway to digitally sign assertions and receipts.<a href="#section-4.4-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.4-2.2">
            <p id="section-4.4-2.2.1">Gateway secure channel establishment public key-pair: This is the key-pair utilized by peer gateways to establish a secure channel (e.g. TLS) for a transfer session.<a href="#section-4.4-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.4-2.3">
            <p id="section-4.4-2.3.1">Gateway device-identity public key pair: This is the key-pair that identifies the unique hardware device underlying a gateway.<a href="#section-4.4-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.4-2.4">
            <p id="section-4.4-2.4.1">Gateway owner-identity public key pair: This is the key-pair that identifies the owner (e.g. legal entity) who is the legal owner of a gateway.<a href="#section-4.4-2.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="satp-message-format-identifiers-and-descriptors">
<section id="section-5">
      <h2 id="name-satp-message-format-identif">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-satp-message-format-identif" class="section-name selfRef">SATP Message Format, identifiers and Descriptors</a>
      </h2>
<div id="satp-messages-identifiers">
<section id="section-5.1">
        <h3 id="name-overview-2">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-overview-2" class="section-name selfRef">Overview</a>
        </h3>
<div id="satp-message-identifier-overview">
<p id="section-5.1-1">This section describes the SATP message-types, the format of the messages exchanged between two gateways, the format for resource descriptors and other related parameters.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
</div>
<p id="section-5.1-2">The mandatory fields are determined by the message type exchanged between the two gateways (see Section 7).<a href="#section-5.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="satp-message-format-and-payloads">
<section id="section-5.2">
        <h3 id="name-satp-message-format-and-pay">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-satp-message-format-and-pay" class="section-name selfRef">SATP Message Format and Payloads</a>
        </h3>
<div id="satp-message-format">
<p id="section-5.2-1">SATP messages are exchanged between peer gateways, where depending on the message type one gateway may act as a client of the other (and vice versa).<a href="#section-5.2-1" class="pilcrow">¶</a></p>
</div>
<div id="protocol-version">
<section id="section-5.2.1">
          <h4 id="name-protocol-version">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-protocol-version" class="section-name selfRef">Protocol version</a>
          </h4>
<p id="section-5.2.1-1">This refers to SATP protocol Version, encoded as "major.minor" (separated by a period symbol).<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="message-type">
<section id="section-5.2.2">
          <h4 id="name-message-type">
<a href="#section-5.2.2" class="section-number selfRef">5.2.2. </a><a href="#name-message-type" class="section-name selfRef">Message Type</a>
          </h4>
<p id="section-5.2.2-1">This refers to the type of request or response to be conveyed in the message.<a href="#section-5.2.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2.2-2">The possible values are:<a href="#section-5.2.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.2-3.1">
              <p id="section-5.2.2-3.1.1">transfer-proposal-msg: This is the transfer proposal message from the sender gateway carrying the set of proposed parameters for the transfer.<a href="#section-5.2.2-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-3.2">
              <p id="section-5.2.2-3.2.1">proposal-receipt-msg: This is the signed receipt message indicating acceptance of the proposal by the receiver gateway.<a href="#section-5.2.2-3.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-3.3">
              <p id="section-5.2.2-3.3.1">proposal-reject-msg: This is an explicit reject message from the receiver gateway, indicating a rejection of the proposal and an immediate session termination.<a href="#section-5.2.2-3.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-3.4">
              <p id="section-5.2.2-3.4.1">transfer-commence-msg: Request to begin the commencement of the asset transfer.<a href="#section-5.2.2-3.4.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-3.5">
              <p id="section-5.2.2-3.5.1">ack-commence-msg: Response to accept to the commencement of the asset transfer.<a href="#section-5.2.2-3.5.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-3.6">
              <p id="section-5.2.2-3.6.1">lock-assert-msg: Sender gateway has performed the lock of the asset in the origin network.<a href="#section-5.2.2-3.6.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-3.7">
              <p id="section-5.2.2-3.7.1">assertion-receipt-msg: Receiver gateway acknowledges receiving of the signed lock-assert-msg.<a href="#section-5.2.2-3.7.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-3.8">
              <p id="section-5.2.2-3.8.1">commit-prepare-msg: Sender gateway requests the start of the commitment stage.<a href="#section-5.2.2-3.8.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-3.9">
              <p id="section-5.2.2-3.9.1">ack-prepare-msg: Receiver gateway acknowledges receiving the previous commit-prepare-msg and agrees to start the commitment stage.<a href="#section-5.2.2-3.9.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-3.10">
              <p id="section-5.2.2-3.10.1">commit-final-msg: Sender gateway has performed the extinguishment (burn) of the asset in the origin network.<a href="#section-5.2.2-3.10.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-3.11">
              <p id="section-5.2.2-3.11.1">ack-commit-final-msg: Receiver gateway acknowledges receiving of the signed commit-final-msg and has performed the asset creation and assignment in the destination network.<a href="#section-5.2.2-3.11.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-3.12">
              <p id="section-5.2.2-3.12.1">commit-transfer-complete-msg: Sender gateway indicates closure of the current transfer session.<a href="#section-5.2.2-3.12.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="digital-asset-identifier">
<section id="section-5.2.3">
          <h4 id="name-digital-asset-identifier">
<a href="#section-5.2.3" class="section-number selfRef">5.2.3. </a><a href="#name-digital-asset-identifier" class="section-name selfRef">Digital Asset Identifier</a>
          </h4>
<p id="section-5.2.3-1">This is the unique identifier (e.g. UUIDv4) that uniquely identifies the digital asset in the origin network which is to be transferred to the destination network.<a href="#section-5.2.3-1" class="pilcrow">¶</a></p>
<p id="section-5.2.3-2">The digital asset identifier is a value that is derived by the applications utilized by the originator and the beneficiary prior to starting the asset transfer.<a href="#section-5.2.3-2" class="pilcrow">¶</a></p>
<p id="section-5.2.3-3">The mechanism used to derive the digital asset identifier is outside the scope of the current document.<a href="#section-5.2.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="transfer-context-id">
<section id="section-5.2.4">
          <h4 id="name-transfer-context-id">
<a href="#section-5.2.4" class="section-number selfRef">5.2.4. </a><a href="#name-transfer-context-id" class="section-name selfRef">Transfer-Context ID:</a>
          </h4>
<p id="section-5.2.4-1">This is the unique immutable identifier (e.g. UUIDv4) representing the application layer context of a single unidirectional transfer. The method to generate the transfer-context ID is outside the scope of the current document.<a href="#section-5.2.4-1" class="pilcrow">¶</a></p>
<p id="section-5.2.4-2">The transfer-context may be a complex data structure that contains all information related to a SATP execution instance. Examples of information contained in a transfer-context may include identifiers of sessions, gateways, networks or assets related to the specific SATP execution instance.<a href="#section-5.2.4-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="session-id">
<section id="section-5.2.5">
          <h4 id="name-session-id">
<a href="#section-5.2.5" class="section-number selfRef">5.2.5. </a><a href="#name-session-id" class="section-name selfRef">Session ID:</a>
          </h4>
<p id="section-5.2.5-1">This is the unique identifier (e.g. UUIDv4) representing a session between two gateways handling a single unidirectional transfer. This may be derived from the Transfer-Context ID at the application level. There may be several session IDs related to a SATP execution instance. Only one Session ID may be active for a given SATP execution instance. Session IDs may be stored in the transfer-context for audit trail purposes.<a href="#section-5.2.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sequence-number">
<section id="section-5.2.6">
          <h4 id="name-sequence-number">
<a href="#section-5.2.6" class="section-number selfRef">5.2.6. </a><a href="#name-sequence-number" class="section-name selfRef">Sequence Number:</a>
          </h4>
<p id="section-5.2.6-1">This is a monotonically increasing counter value uniquely representing a message from a session. This can be utilized to assist the peer gateways when they are processing multiple simultaneous unrelated transfers.<a href="#section-5.2.6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="gateway-credential-type">
<section id="section-5.2.7">
          <h4 id="name-gateway-credential-type">
<a href="#section-5.2.7" class="section-number selfRef">5.2.7. </a><a href="#name-gateway-credential-type" class="section-name selfRef">Gateway Credential Type</a>
          </h4>
<p id="section-5.2.7-1">This is the type of authentication mechanism supported by the gateway (e.g. SAML, OAuth, X.509)<a href="#section-5.2.7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="gateway-credential">
<section id="section-5.2.8">
          <h4 id="name-gateway-credential">
<a href="#section-5.2.8" class="section-number selfRef">5.2.8. </a><a href="#name-gateway-credential" class="section-name selfRef">Gateway Credential</a>
          </h4>
<p id="section-5.2.8-1">This payload is the actual credential of the gateway (token, certificate, string, etc.).<a href="#section-5.2.8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="payload-hash">
<section id="section-5.2.9">
          <h4 id="name-payload-hash">
<a href="#section-5.2.9" class="section-number selfRef">5.2.9. </a><a href="#name-payload-hash" class="section-name selfRef">Payload Hash</a>
          </h4>
<p id="section-5.2.9-1">This is the hash of the current message payload.<a href="#section-5.2.9-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="signature-algorithms-supported">
<section id="section-5.2.10">
          <h4 id="name-signature-algorithms-suppor">
<a href="#section-5.2.10" class="section-number selfRef">5.2.10. </a><a href="#name-signature-algorithms-suppor" class="section-name selfRef">Signature Algorithms Supported</a>
          </h4>
<p id="section-5.2.10-1">This is the list of digital signature algorithm supported by a gateway, with the base default being the NIST ECDSA standard.<a href="#section-5.2.10-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="message-signature">
<section id="section-5.2.11">
          <h4 id="name-message-signature">
<a href="#section-5.2.11" class="section-number selfRef">5.2.11. </a><a href="#name-message-signature" class="section-name selfRef">Message Signature</a>
          </h4>
<p id="section-5.2.11-1">This payload is the actual the ECDSA signature portion over a message.<a href="#section-5.2.11-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="lock-assertion-claims-and-format">
<section id="section-5.2.12">
          <h4 id="name-lock-assertion-claims-and-f">
<a href="#section-5.2.12" class="section-number selfRef">5.2.12. </a><a href="#name-lock-assertion-claims-and-f" class="section-name selfRef">Lock assertion Claims and Format</a>
          </h4>
<p id="section-5.2.12-1">This is the format of the set of claims regarding the state of the asset in the origin network.
The claims are network-dependent in the sense that different asset networks or systems may utilize a different asset locking (disablement) mechanism.<a href="#section-5.2.12-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="negotiation-of-security-protocols-and-parameters">
<section id="section-5.3">
        <h3 id="name-negotiation-of-security-pro">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-negotiation-of-security-pro" class="section-name selfRef">Negotiation of Security Protocols and Parameters</a>
        </h3>
<div id="satp-negotiation-params-sec">
<p id="section-5.3-1">The peer gateways in SATP must establish a TLS session between them prior to starting the transfer initiation stage (Stage-0). The TLS session continues until the transfer is completed at the end of the commitment establishment stage (Stage-3).<a href="#section-5.3-1" class="pilcrow">¶</a></p>
</div>
<p id="section-5.3-2">In the following, the sender gateway is referred to as the client while the received gateway as the server.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<div id="tls-secure-channel-establishment">
<section id="section-5.3.1">
          <h4 id="name-tls-secure-channel-establis">
<a href="#section-5.3.1" class="section-number selfRef">5.3.1. </a><a href="#name-tls-secure-channel-establis" class="section-name selfRef">TLS Secure Channel Establishment</a>
          </h4>
<div id="satp-tls-Established-sec">
<p id="section-5.3.1-1">TLS 1.2 or higher MUST be implemented to protect gateway communications. TLS 1.3 or higher SHOULD be implemented where both gateways support TLS 1.3 or higher.<a href="#section-5.3.1-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="client-offers-supported-credential-schemes">
<section id="section-5.3.2">
          <h4 id="name-client-offers-supported-cre">
<a href="#section-5.3.2" class="section-number selfRef">5.3.2. </a><a href="#name-client-offers-supported-cre" class="section-name selfRef">Client offers supported credential schemes</a>
          </h4>
<div id="satp-client-offers-sec">
<p id="section-5.3.2-1">The client sends a JSON block containing the supported credential schemes, such as OAuth2.0 or SAML, in the "Credential Scheme" field of the SATP message.<a href="#section-5.3.2-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="server-selects-supported-credential-scheme">
<section id="section-5.3.3">
          <h4 id="name-server-selects-supported-cr">
<a href="#section-5.3.3" class="section-number selfRef">5.3.3. </a><a href="#name-server-selects-supported-cr" class="section-name selfRef">Server selects supported credential scheme</a>
          </h4>
<div id="satp-server-selects-sec">
<p id="section-5.3.3-1">The server (recipient Gateway) selects one acceptable credential scheme from the offered schemes, returning the selection in the "Credential Scheme" field of the SATP message. If no acceptable credential scheme was offered, an HTTP 511 "Network Authentication Required" error is returned.<a href="#section-5.3.3-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="client-asserts-or-proves-identity">
<section id="section-5.3.4">
          <h4 id="name-client-asserts-or-proves-id">
<a href="#section-5.3.4" class="section-number selfRef">5.3.4. </a><a href="#name-client-asserts-or-proves-id" class="section-name selfRef">Client asserts or proves identity</a>
          </h4>
<div id="client-procedure-sec">
<p id="section-5.3.4-1">The details of the assertion/verification step are specific to the chosen credential scheme and are outside the scope of this document.<a href="#section-5.3.4-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="sequence-numbers-initialized">
<section id="section-5.3.5">
          <h4 id="name-sequence-numbers-initialize">
<a href="#section-5.3.5" class="section-number selfRef">5.3.5. </a><a href="#name-sequence-numbers-initialize" class="section-name selfRef">Sequence numbers initialized</a>
          </h4>
<div id="sequence-numbers-sec">
<p id="section-5.3.5-1">Sequence numbers are used to allow the server to correctly order operations from the client. Some operations may be asynchronous, synchronous, or idempotent with duplicate requests handled differently according to the use case. The initial sequence number is proposed by the client (sender gateway) after credential verification is finalized. The server (receiver gateway) MUST respond with the same sequence number to indicate acceptance. The client increments the sequence number with each new request. Sequence numbers can be reused for retries in the event of a gateway timeout.<a href="#section-5.3.5-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="messages-can-now-be-exchanged">
<section id="section-5.3.6">
          <h4 id="name-messages-can-now-be-exchang">
<a href="#section-5.3.6" class="section-number selfRef">5.3.6. </a><a href="#name-messages-can-now-be-exchang" class="section-name selfRef">Messages can now be exchanged</a>
          </h4>
<div id="satp-msg-exchnge-sec">
<p id="section-5.3.6-1">Handshaking is complete at this point, and the client can send SAT messages to perform actions on resources, which MAY reference the SAT Payload field.<a href="#section-5.3.6-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="asset-profile-identification">
<section id="section-5.4">
        <h3 id="name-asset-profile-identificatio">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-asset-profile-identificatio" class="section-name selfRef">Asset Profile Identification</a>
        </h3>
<div id="satp-asset-profile-negotiation">
<p id="section-5.4-1">The client and server must mutually agree on the asset type or profile that is the subject of the current transfer. The client provides the server with the asset identification number, or the server may provide the client with the asset identification numbers for the digital asset it supports. Formal specification of asset identification is outside the scope of this document. Globally numbering digital asset types or profiles is expected to be performed by a legally recognized entity.<a href="#section-5.4-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="overview-of-message-flows">
<section id="section-6">
      <h2 id="name-overview-of-message-flows">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-overview-of-message-flows" class="section-name selfRef">Overview of Message Flows</a>
      </h2>
<div id="satp-flows-overview-section">
<p id="section-6-1">The SATP message flows are logically divided into three (3) stages <span>[<a href="#ARCH" class="cite xref">ARCH</a>]</span>, with the preparatory stage denoted as Stage-0. How the tasks are achieved in Stage-0 is out of scope for the current specification.<a href="#section-6-1" class="pilcrow">¶</a></p>
</div>
<p id="section-6-2">The Stage-1 flows pertains to the initialization of the transfer between the two gateways.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">After both gateways agree to commence the transfer at the start of Stage-2, the sender gateway G1 must deliver a signed assertion that it has performed the correct lock (burn) on the asset in origin network (NW1).<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4">If that assertion is accepted by gateway G2, it must in return transmit a signed receipt to gateway G1 that it has created (minted) a temporary asset in destination network (NW2).<a href="#section-6-4" class="pilcrow">¶</a></p>
<p id="section-6-5">The Stage-3 flows commits gateways G1 and G2 to the burn and mint in Stage-2. The sender gateway G1 must make the lock on the asset in origin network NW1 to be permanent (burn). The receiver gateway G2 must assign (mint) the asset in the destination network NW2 to the correct beneficiary.<a href="#section-6-5" class="pilcrow">¶</a></p>
<p id="section-6-6">The reader is directed to <span>[<a href="#ARCH" class="cite xref">ARCH</a>]</span> for further discussion of this model.<a href="#section-6-6" class="pilcrow">¶</a></p>
<p id="section-6-7"><code>
       App1  NW1          G1                     G2          NW2    App2
      ..|.....|............|......................|............|.....|..
        |     |            |       Stage 1        |            |     |
        |     |            |                      |            |     |
        |     |       (1.1)|--Transf. Proposal --&gt;|            |     |
        |     |            |                      |            |     |
        |     |            |&lt;--Proposal Receipt---|(1.2)       |     |
        |     |            |                      |            |     |
        |     |       (1.3)|&lt;--Transf. Commence--&gt;|            |     |
        |     |            |                      |            |     |
        |     |            |&lt;--- ACK Commence ---&gt;|(1.4)       |     |
        |     |            |                      |            |     |
      ..|.....|............|......................|............|.....|..
        |     |            |       Stage 2        |            |     |
        |     |            |                      |            |     |
        |     |&lt;---Lock----|(2.1)                 |            |     |
        |     |            |                      |            |     |
        |     |       (2.2)|--- Lock-Assertion---&gt;|            |     |
        |     |            |                      |            |     |
        |     |            |                 (2.3)|----Bcast--&gt;|     |
        |     |            |                      |            |     |
        |     |            |&lt;--Assertion Receipt--|(2.4)       |     |
        |     |            |                      |            |     |
      ..|.....|............|......................|............|.....|..
        |     |            |       Stage 3        |            |     |
        |     |            |                      |            |     |
        |     |       (3.1)|----Commit Prepare---&gt;|            |     |
        |     |            |                      |            |     |
        |     |            |                 (3.2)|----Mint---&gt;|     |
        |     |            |                      |            |     |
        |     |            |&lt;--- Commit Ready ----|(3.3)       |     |
        |     |            |                      |            |     |
        |     |&lt;---Burn----|(3.4)                 |            |     |
        |     |            |                      |            |     |
        |     |       (3.5)|---- Commit Final ---&gt;|            |     |
        |     |            |                      |            |     |
        |     |            |                 (3.6)|---Assign--&gt;|     |
        |     |            |                      |            |     |
        |     |            |&lt;-----ACK Final-------|(3.7)       |     |
        |     |            |                      |            |     |
        |     |            |                      |            |     |
        |     |&lt;---Bcast---|(3.8)                 |            |     |
        |     |            |                      |            |     |
        |     |       (3.9)|--Transfer Complete--&gt;|            |     |
      ..|.....|............|......................|............|.....|..
</code><a href="#section-6-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="identity-and-asset-verification-stage-stage-0">
<section id="section-7">
      <h2 id="name-identity-and-asset-verifica">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-identity-and-asset-verifica" class="section-name selfRef">Identity and Asset Verification Stage (Stage 0)</a>
      </h2>
<div id="satp-Stage0-section">
<p id="section-7-1">Prior to commencing the asset transfer from the sender gateway (client) to the recipient gateway (server),
both gateways must perform a number of verifications steps.
The types of information required by both the sender and recipient are use-case dependent and asset-type dependent.<a href="#section-7-1" class="pilcrow">¶</a></p>
</div>
<p id="section-7-2">The verifications include, but not limited to, the following:<a href="#section-7-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-3.1">
          <p id="section-7-3.1.1">Verification of the gateway signature public key: The sender gateway and receiver gateway must validate their respective signature public keys that will later be used to sign assertions and claims. This may include validating the X509 certificates of these keys.<a href="#section-7-3.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-7-3.2">
          <p id="section-7-3.2.1">Gateway owner verification:
This is the verification of the identity (e.g. LEI) of the owners of the gateways.<a href="#section-7-3.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-7-3.3">
          <p id="section-7-3.3.1">Gateway device and state validation:
This is the device attestation evidence <span>[<a href="#RFC9334" class="cite xref">RFC9334</a>]</span>
that a gateway must collect and convey to each other,
where a verifier is assumed to be available to decode,
parse and appraise the evidence.<a href="#section-7-3.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-7-3.4">
          <p id="section-7-3.4.1">Originator and beneficiary identity verification:
This is the identity and public-key of the entity (originator)
in the origin network seeking to transfer the asset to
another entity (beneficiary) in the destination network.<a href="#section-7-3.4.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-7-4">These are considered out of scope in the current specifications,
and are assumed to have been successfully completed prior to
the commencement of the transfer initiation flow.
The reader is directed to <span>[<a href="#ARCH" class="cite xref">ARCH</a>]</span> for further discussion regarding Stage-0.<a href="#section-7-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="transfer-initiation-stage-stage-1">
<section id="section-8">
      <h2 id="name-transfer-initiation-stage-s">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-transfer-initiation-stage-s" class="section-name selfRef">Transfer Initiation Stage (Stage 1)</a>
      </h2>
<div id="satp-stage1-section">
<p id="section-8-1">This section describes the transfer initiation stage, where the sender gateway and the receiver gateway prepare for the start of the asset transfer.<a href="#section-8-1" class="pilcrow">¶</a></p>
</div>
<p id="section-8-2">The sender gateway proposes the set of transfer parameters and asset-related artifacts for the transfer to the receiver gateway. These are contained in the Transfer Initiation Claims.<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">If the receiver gateway accepts the proposal, it returns a signed receipt message for the proposal indicating it agrees to proceed to the next stage. If the receiver gateway rejects any parameters or artifacts in the proposal, it can provide a counteroffer to the sender gateway by responding with a proposal reject message carrying alternative parameters.<a href="#section-8-3" class="pilcrow">¶</a></p>
<p id="section-8-4">Gateways MUST support the use of the HTTP GET and POST methods
defined in RFC 2616 [RFC2616] for the endpoint.<a href="#section-8-4" class="pilcrow">¶</a></p>
<p id="section-8-5">Clients (sender gateway) MAY use the HTTP GET or POST methods to send messages
in this stage to the server (recipient gateway).
If using the HTTP GET method, the request parameters may be
serialized using URI Query String Serialization.<a href="#section-8-5" class="pilcrow">¶</a></p>
<p id="section-8-6">(NOTE: Flows occur over TLS. Nonces are not shown).<a href="#section-8-6" class="pilcrow">¶</a></p>
<div id="transfer-initialization-claims">
<section id="section-8.1">
        <h3 id="name-transfer-initialization-cla">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-transfer-initialization-cla" class="section-name selfRef">Transfer Initialization Claims</a>
        </h3>
<div id="satp-stage1-init-claims">
<p id="section-8.1-1">This is set of artifacts pertaining to the asset that
must be agreed upon between the client (sender
gateway) and the server (recipient gateway).<a href="#section-8.1-1" class="pilcrow">¶</a></p>
</div>
<p id="section-8.1-2">The Transfer Initialization Claims consists of the following:<a href="#section-8.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.1-3.1">
            <p id="section-8.1-3.1.1">digitalAssetId REQUIRED: This is the globally unique identifier for the digital asset
located in the origin network.<a href="#section-8.1-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.2">
            <p id="section-8.1-3.2.1">assetProfileId REQUIRED: This is the globally unique identifier for the asset-profile
definition (document) on which the digital asset was issued.<a href="#section-8.1-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.3">
            <p id="section-8.1-3.3.1">verifiedOriginatorEntityId REQUIRED: This is the identity data of the originator entity
(person or organization) in the origin network.
This information must be verified by the sender gateway.<a href="#section-8.1-3.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.4">
            <p id="section-8.1-3.4.1">verifiedBeneficiaryEntityId REQUIRED: This is the identity data of the beneficiary entity
(person or organization) in the destination network.
This information must be verified by the receiver gateway.<a href="#section-8.1-3.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.5">
            <p id="section-8.1-3.5.1">originatorPubkey REQUIRED. This is the public key of the asset owner (originator)
in the origin network or system.<a href="#section-8.1-3.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.6">
            <p id="section-8.1-3.6.1">beneficiaryPubkey REQUIRED. This is the public key of the beneficiary
in the destination network.<a href="#section-8.1-3.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.7">
            <p id="section-8.1-3.7.1">senderGatewaySignaturePublicKey REQUIRED. This is the public key of the key-pair used by the sender gateway to sign assertions and receipts.<a href="#section-8.1-3.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.8">
            <p id="section-8.1-3.8.1">receiverGatewaySignaturePublicKey REQUIRED. This is the public key of the key-pair used by the recevier gateway to sign assertions and receipts.<a href="#section-8.1-3.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.9">
            <p id="section-8.1-3.9.1">senderGatewayId OPTIONAL. This is the identifier of the sender gateway.<a href="#section-8.1-3.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.10">
            <p id="section-8.1-3.10.1">recipientGatewayId OPTIONAL. This is the identifier of the receiver gateway.<a href="#section-8.1-3.10.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.11">
            <p id="section-8.1-3.11.1">senderGatewayNetworkId REQUIRED. This is the identifier of the
origin network or system behind the client.<a href="#section-8.1-3.11.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.12">
            <p id="section-8.1-3.12.1">recipientGatewayNetworkId REQUIRED. This is the identifier of the destination
network or system behind the server.<a href="#section-8.1-3.12.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.13">
            <p id="section-8.1-3.13.1">senderGatewayDeviceIdentityPubkey OPTIONAL. The device public key of the sender gateway (client).<a href="#section-8.1-3.13.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.14">
            <p id="section-8.1-3.14.1">receiverGatewayDeviceIdentityPubkey OPTIONAL. The device public key of the receiver gateway<a href="#section-8.1-3.14.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.15">
            <p id="section-8.1-3.15.1">senderGatewayOwnerId OPTIONAL: This is the identity information of the owner or operator
of the sender gateway.<a href="#section-8.1-3.15.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.16">
            <p id="section-8.1-3.16.1">receiverGatewayOwnerId OPTIONAL: This is the identity information of the owner or operator
of the recipient gateway.<a href="#section-8.1-3.16.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.1-4">Here is an example representation in JSON format:<a href="#section-8.1-4" class="pilcrow">¶</a></p>
<p id="section-8.1-5"><code>json
{
  "digitalAssetId": "2c949e3c-5edb-4a2c-9ef4-20de64b9960d",
  "assetProfileId": "38561",
  "verifiedOriginatorEntityId": "CN=Alice, OU=Example Org Unit, O=Example, L=New York, C=US",
  "verifiedBeneficiaryEntityId": "CN=Bob, OU=Case Org Unit, O=Case, L=San Francisco, C=US",
  "originatorPubkey": "0304b9f34d3898b27f85b3d88fa069a879abe14db5060dde466dd1e4a31ff75e44",
  "beneficiaryPubkey": "02a7bc058e1c6f3a79601d046069c9b6d0cb8ea5afc99e6074a5997284756fc9ae",
  "senderGatewaySignaturePublicKey": "02a7bc058e1c6f3a79601d046069c9b6d0cb8ea5afc99e6074a5997284756fc9ae",
  "receiverGatewaySignaturePublicKey": "0243b12ada6515ada3bf99a7da32e84f00383b5765fd7701528e660449ba5ef260",
  "senderGatewayId": "GW1",
  "recipientGatewayId": "GW2",
  "senderGatewayNetworkId": "1",
  "recipientGatewayNetworkId": "43114",
  "senderGatewayDeviceIdentityPubkey": "0245785e34b4a7b457dd4683a297ea3d78bab35f8b2583df55d9df8c69604d0e73",
  "receiverGatewayDeviceIdentityPubkey": "03763f0bc48ff154cff45ea533a9d8a94349d65a45573e4de6ad6495b6e834312b",
  "senderGatewayOwnerId": "CN=GatewayOps, OU=GatewayOps Systems, O=GatewayOps LTD, L=Austin, C=US",
  "receiverGatewayOwnerId": "CN=BridgeSolutions, OU=BridgeSolutions Engineering, O=BridgeSolutions LTD, L=Austin, C=US"
}
</code><a href="#section-8.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conveyance-of-gateway-and-network-capabilities">
<section id="section-8.2">
        <h3 id="name-conveyance-of-gateway-and-n">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-conveyance-of-gateway-and-n" class="section-name selfRef">Conveyance of Gateway and Network Capabilities</a>
        </h3>
<div id="satp-stage1-conveyance">
<p id="section-8.2-1">This is set of parameters pertaining to the origin network and the destination network, and the technical capabilities supported by the peer gateways.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
</div>
<p id="section-8.2-2">Some of network-specific parameters regarding the origin network may be relevant for a receiver gateways to evaluate its ability to process the proposed transfer.<a href="#section-8.2-2" class="pilcrow">¶</a></p>
<p id="section-8.2-3">For example, the average duration of time of a lock to be held by a sender gateway may inform the receiver gateway about delay expectations.<a href="#section-8.2-3" class="pilcrow">¶</a></p>
<p id="section-8.2-4">The network capabilities list is as follows:<a href="#section-8.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2-5.1">
            <p id="section-8.2-5.1.1">gatewayDefaultSignatureAlgorithm REQUIRED: The default digital signature algorithm (algorithm-id) used by a gateway to sign claims.<a href="#section-8.2-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.2-5.2">
            <p id="section-8.2-5.2.1">gatewaySupportedSignatureAlgorithms OPTIONAL: The list of other digital signature algorithm (algorithm-id) supported by a gateway to sign claims<a href="#section-8.2-5.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.2-5.3">
            <p id="section-8.2-5.3.1">networkLockType REQUIRED: The default locking mechanism used by a network. These can be (i) timelock, (ii) hashlock, (iii) hashtimelock, and so on (TBD).<a href="#section-8.2-5.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.2-5.4">
            <p id="section-8.2-5.4.1">networkLockExpirationTime REQUIRED: The duration of time (in seconds) for a lock to expire in the network.<a href="#section-8.2-5.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.2-5.5">
            <p id="section-8.2-5.5.1">gatewayCredentialProfile REQUIRED: Specify type of auth (e.g., SAML, OAuth, X.509).<a href="#section-8.2-5.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.2-5.6">
            <p id="section-8.2-5.6.1">gatewayLoggingProfile REQUIRED: contains the profile regarding the logging procedure. Default is local store<a href="#section-8.2-5.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.2-5.7">
            <p id="section-8.2-5.7.1">gatewayAccessControlProfile REQUIRED: the profile regarding the confidentiality of the log entries being stored. Default is only the gateway that created the logs can access them.<a href="#section-8.2-5.7.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.2-6">Here is an example representation in JSON format:<a href="#section-8.2-6" class="pilcrow">¶</a></p>
<p id="section-8.2-7"><code>json
{
  "gatewayDefaultSignatureAlgorithm": "ECDSA",
  "gatewaySupportedSignatureAlgorithms": ["ECDSA", "RSA"],
  "networkLockType": "HASH_TIME_LOCK",
  "networkLockExpirationTime": 120,
  "gatewayCredentialProfile": "OAUTH",
  "gatewayLoggingProfile": "LOCAL_STORE",
  "gatewayAccessControlProfile": "RBAC"
}
</code><a href="#section-8.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="transfer-proposal-message">
<section id="section-8.3">
        <h3 id="name-transfer-proposal-message">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-transfer-proposal-message" class="section-name selfRef">Transfer Proposal Message</a>
        </h3>
<div id="satp-stage1-init-transfer-proposal">
<p id="section-8.3-1">The purpose of this message is for the sender gateway as the client to initiate an asset transfer session with the receiver gateway as the server.<a href="#section-8.3-1" class="pilcrow">¶</a></p>
</div>
<p id="section-8.3-2">The client transmits a proposal message that carries the claims related to the asset to be transferred. This message must be signed by the client.<a href="#section-8.3-2" class="pilcrow">¶</a></p>
<p id="section-8.3-3">This message is sent from the client to the Transfer Initialization Endpoint at the server.<a href="#section-8.3-3" class="pilcrow">¶</a></p>
<p id="section-8.3-4">The parameters of this message consists of the following:<a href="#section-8.3-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.3-5.1">
            <p id="section-8.3-5.1.1">version REQUIRED: SAT protocol Version (major, minor).<a href="#section-8.3-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.3-5.2">
            <p id="section-8.3-5.2.1">messageType REQUIRED: urn:ietf:satp:msgtype:transfer-proposal-msg .<a href="#section-8.3-5.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.3-5.3">
            <p id="section-8.3-5.3.1">sessionId REQUIRED: A unique identifier (e.g. UUIDv4) chosen by the
client to identify the current session.<a href="#section-8.3-5.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.3-5.4">
            <p id="section-8.3-5.4.1">transferContextId REQUIRED: A unique identifier (e.g. UUIDv4) used to identify
the current transfer session at the application layer.<a href="#section-8.3-5.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.3-5.5">
            <p id="section-8.3-5.5.1">transferInitClaims REQUIRED: The set of artifacts and parameters as the basis
for the current transfer.<a href="#section-8.3-5.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.3-5.6">
            <p id="section-8.3-5.6.1">transferInitClaimsFormat REQUIRED: The format of the transfer initialization claims.<a href="#section-8.3-5.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.3-5.7">
            <p id="section-8.3-5.7.1">networkCapabilitiesList REQUIRED: The set of origin network parameters reported by the client to the server.<a href="#section-8.3-5.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.3-5.8">
            <p id="section-8.3-5.8.1">multipleClaimsAllowed OPTIONAL: true/false.<a href="#section-8.3-5.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.3-5.9">
            <p id="section-8.3-5.9.1">multipleCancelsAllowed OPTIONAL: true/false.<a href="#section-8.3-5.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.3-5.10">
            <p id="section-8.3-5.10.1">clientSignature REQUIRED: The client's signature over the message.<a href="#section-8.3-5.10.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.3-6">Here is an example of the message request body:<a href="#section-8.3-6" class="pilcrow">¶</a></p>
<p id="section-8.3-7"><code>json
{
  "version": "1.0",
  "messageType": "urn:ietf:satp:msgtype:transfer-proposal-msg",
  "sessionId": "d66a567c-11f2-4729-a0e9-17ce1faf47c1",
  "transferContextId": "89e04e71-bba2-4363-933c-262f42ec07a0",
  "transferInitClaims": {
      "digitalAssetId": "2c949e3c-5edb-4a2c-9ef4-20de64b9960d",
      "assetProfileId": "38561",
      "verifiedOriginatorEntityId": "CN=Alice, OU=Example Org Unit, O=Example, L=New York, C=US",
      "verifiedBeneficiaryEntityId": "CN=Bob, OU=Case Org Unit, O=Case, L=San Francisco, C=US",
      "originatorPubkey": "0304b9f34d3898b27f85b3d88fa069a879abe14db5060dde466dd1e4a31ff75e44",
      "beneficiaryPubkey": "02a7bc058e1c6f3a79601d046069c9b6d0cb8ea5afc99e6074a5997284756fc9ae",
      "senderGatewaySignaturePublicKey": "02a7bc058e1c6f3a79601d046069c9b6d0cb8ea5afc99e6074a5997284756fc9ae",
      "receiverGatewaySignaturePublicKey": "0243b12ada6515ada3bf99a7da32e84f00383b5765fd7701528e660449ba5ef260",
      "senderGatewayId": "GW1",
      "recipientGatewayId": "GW2",
      "senderGatewayNetworkId": "1",
      "recipientGatewayNetworkId": "43114",
      "senderGatewayDeviceIdentityPubkey": "0245785e34b4a7b457dd4683a297ea3d78bab35f8b2583df55d9df8c69604d0e73",
      "receiverGatewayDeviceIdentityPubkey": "03763f0bc48ff154cff45ea533a9d8a94349d65a45573e4de6ad6495b6e834312b",
      "senderGatewayOwnerId": "CN=GatewayOps, OU=GatewayOps Systems, O=GatewayOps LTD, L=Austin, C=US",
      "receiverGatewayOwnerId": "CN=BridgeSolutions, OU=BridgeSolutions Engineering, O=BridgeSolutions LTD, L=Austin, C=US"
  },
  "transferInitClaimsFormat": "JSON",
  "networkCapabilitiesList": [], // TODO: is the network capabilities list the same as the conveyance of network capabilities, or more?
  "multipleClaimsAllowed":false,
  "multipleCancelsAllowed": false,
  "clientSignature": "428848dcc8bf7d2a9aa81a06a2a316f0b0b5e65eb7e1af9aa36a7028414b88ec584375281508254be946e32da6edbea6b4c794cd50c830753f9b134def087470de4df82000094000000004f564c2054657374204d657373616765c001a0ff92315970206155d9ffa29deb57d71b4aa51ebd9bbe1e8033df54522035303c323b869475d4e7549304f88883a"
}
</code><a href="#section-8.3-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="transfer-proposal-receipt-message">
<section id="section-8.4">
        <h3 id="name-transfer-proposal-receipt-m">
<a href="#section-8.4" class="section-number selfRef">8.4. </a><a href="#name-transfer-proposal-receipt-m" class="section-name selfRef">Transfer Proposal Receipt Message</a>
        </h3>
<div id="satp-stage1-init-receipt">
<p id="section-8.4-1">The purpose of this message is for the server to indicate explicit
acceptance of the parameters in the claims  part of the transfer proposal message.<a href="#section-8.4-1" class="pilcrow">¶</a></p>
</div>
<p id="section-8.4-2">The message must be signed by the server.<a href="#section-8.4-2" class="pilcrow">¶</a></p>
<p id="section-8.4-3">The message is sent from the server to the Transfer Proposal Endpoint at the client.<a href="#section-8.4-3" class="pilcrow">¶</a></p>
<p id="section-8.4-4">The parameters of this message consists of the following:<a href="#section-8.4-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.4-5.1">
            <p id="section-8.4-5.1.1">version REQUIRED: SAT protocol Version (major, minor).<a href="#section-8.4-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.4-5.2">
            <p id="section-8.4-5.2.1">messageType REQUIRED: urn:ietf:satp:msgtype:proposal-receipt-msg.<a href="#section-8.4-5.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.4-5.3">
            <p id="section-8.4-5.3.1">sessionId REQUIRED: A unique identifier (e.g. UUIDv4) chosen by the
client to identify the current session.<a href="#section-8.4-5.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.4-5.4">
            <p id="section-8.4-5.4.1">transferContextId REQUIRED: A unique identifier (e.g. UUIDv4) used to identify
the current transfer session at the application layer.<a href="#section-8.4-5.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.4-5.5">
            <p id="section-8.4-5.5.1">hashTransferInitClaims REQUIRED: Hash of the Transfer Initialization Claims
received in the Transfer Proposal Message.<a href="#section-8.4-5.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.4-5.6">
            <p id="section-8.4-5.6.1">timestamp REQUIRED: timestamp referring to when
the Initialization Request Message was received.<a href="#section-8.4-5.6.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.4-6">Here is an example of the message request body:<a href="#section-8.4-6" class="pilcrow">¶</a></p>
<p id="section-8.4-7"><code>json
{
  "version": "1.0",
  "messageType": "urn:ietf:satp:msgtype:proposal-receipt-msg",
  "sessionId": "d66a567c-11f2-4729-a0e9-17ce1faf47c1",
  "transferContextId": "89e04e71-bba2-4363-933c-262f42ec07a0",
  "hashTransferInitClaims": "154dfaf0406038641e7e59509febf41d9d5d80f367db96198690151f4758ca6e",
  "timestamp": "2024-10-03T12:02+00Z"
}
</code><a href="#section-8.4-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="transfer-proposal-reject-message">
<section id="section-8.5">
        <h3 id="name-transfer-proposal-reject-me">
<a href="#section-8.5" class="section-number selfRef">8.5. </a><a href="#name-transfer-proposal-reject-me" class="section-name selfRef">Transfer Proposal Reject Message</a>
        </h3>
<div id="satp-stage1-init-reject">
<p id="section-8.5-1">The purpose of this message is for the server to indicate explicit
rejection of the Transfer Initialization Claims
in the transfer proposal message.
A reject message is taken to mean an immediate termination of the session.<a href="#section-8.5-1" class="pilcrow">¶</a></p>
</div>
<p id="section-8.5-2">The message must be signed by the server.<a href="#section-8.5-2" class="pilcrow">¶</a></p>
<p id="section-8.5-3">The message is sent from the server to the Transfer Proposal Endpoint at the client.<a href="#section-8.5-3" class="pilcrow">¶</a></p>
<p id="section-8.5-4">The parameters of this message consists of the following:<a href="#section-8.5-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.5-5.1">
            <p id="section-8.5-5.1.1">version REQUIRED: SAT protocol Version (major, minor).<a href="#section-8.5-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.5-5.2">
            <p id="section-8.5-5.2.1">messageType REQUIRED: urn:ietf:satp:msgtype:proposal-reject-msg.<a href="#section-8.5-5.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.5-5.3">
            <p id="section-8.5-5.3.1">sessionId REQUIRED: A unique identifier (e.g. UUIDv4) chosen by the
client to identify the current session.<a href="#section-8.5-5.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.5-5.4">
            <p id="section-8.5-5.4.1">transferContextId REQUIRED: A unique identifier (e.g. UUIDv4) used to identify
the current transfer session at the application layer.<a href="#section-8.5-5.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.5-5.5">
            <p id="section-8.5-5.5.1">hashTransferInitClaims REQUIRED: Hash of the Transfer Initialization Claims
received in the Transfer Proposal Message.<a href="#section-8.5-5.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.5-5.6">
            <p id="section-8.5-5.6.1">timestamp REQUIRED: timestamp referring to when
the Initialization Request Message was received.<a href="#section-8.5-5.6.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.5-6">Example: TBD.<a href="#section-8.5-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="transfer-commence-message">
<section id="section-8.6">
        <h3 id="name-transfer-commence-message">
<a href="#section-8.6" class="section-number selfRef">8.6. </a><a href="#name-transfer-commence-message" class="section-name selfRef">Transfer Commence Message</a>
        </h3>
<div id="satp-transfer-commence-sec">
<p id="section-8.6-1">The purpose of this message is for the client to signal to
the server that the client is ready to start the transfer of the
digital asset. This message must be signed by the client.<a href="#section-8.6-1" class="pilcrow">¶</a></p>
</div>
<p id="section-8.6-2">This message is sent by the client as a response to the Transfer Proposal Receipt Message previously
received from the server.<a href="#section-8.6-2" class="pilcrow">¶</a></p>
<p id="section-8.6-3">This message is sent by the client to the Transfer Commence Endpoint at the server.<a href="#section-8.6-3" class="pilcrow">¶</a></p>
<p id="section-8.6-4">The parameters of this message consists of the following:<a href="#section-8.6-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.6-5.1">
            <p id="section-8.6-5.1.1">messageType REQUIRED. MUST be the value urn:ietf:satp:msgtype:transfer-commence-msg.<a href="#section-8.6-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.6-5.2">
            <p id="section-8.6-5.2.1">sessionId REQUIRED: A unique identifier (e.g. UUIDv4) chosen earlier
by the client in the Initialization Request Message.<a href="#section-8.6-5.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.6-5.3">
            <p id="section-8.6-5.3.1">transferContextId REQUIRED: A unique identifier (e.g. UUIDv4)
used to identify the current transfer session at the application layer.<a href="#section-8.6-5.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.6-5.4">
            <p id="section-8.6-5.4.1">hashTransferInitClaims REQUIRED: Hash of the Transfer Initialization Claims
in the Transfer Proposal message.<a href="#section-8.6-5.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.6-5.5">
            <p id="section-8.6-5.5.1">hashPrevMessage REQUIRED. The hash of the last message, in this case the
Transfer Proposal Receipt message.<a href="#section-8.6-5.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.6-5.6">
            <p id="section-8.6-5.6.1">clientSignature REQUIRED. The digital signature of the client.<a href="#section-8.6-5.6.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.6-6">For example, the client makes the following HTTP request using TLS:<a href="#section-8.6-6" class="pilcrow">¶</a></p>
<p id="section-8.6-7">```
POST /token HTTP/1.1
Host: server.example.com
Authorization: Basic awHCaGRSa3F0MzpnWDFmQmF0M2ZG
Content-Type: application/json<a href="#section-8.6-7" class="pilcrow">¶</a></p>
<p id="section-8.6-8">{
    "messageType": "urn:ietf:satp:msgtype:transfer-commence-msg",
    "sessionId": "1b7f6300-7f14-45ba-8345-a5f6d875b61e",
    "sender_net_system": "originNETsystem",
    "recipient_net_system": "recipientNETsystem",
    "client_identity_pubkey": "fgH654tgeryuryuy",
    "server_identity_pubkey": "dFgdfgdfgt43tetr535teyrfge4t54334",
    "transferInitClaims": "nbvcwertyhgfdsertyhgf2h3v4bd3v21",
    "hashPrevMessage": "DRvfrb654vgreDerverv654nhRbvder4",
    "clientSignature": "fdw34567uyhgfer45"
}
```<a href="#section-8.6-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="transfer-commence-sec-example">
<section id="section-8.7">
        <h3 id="name-commence-response-message-a">
<a href="#section-8.7" class="section-number selfRef">8.7. </a><a href="#name-commence-response-message-a" class="section-name selfRef">Commence Response Message (ACK-Commence)</a>
        </h3>
<div id="satp-transfer-commence-resp-sec">
<p id="section-8.7-1">The purpose of this message is for the server to indicate agreement
to proceed with the asset transfer, based on the artifacts
found in the previous Transfer Proposal Message.<a href="#section-8.7-1" class="pilcrow">¶</a></p>
</div>
<p id="section-8.7-2">This message is sent by the server to the Transfer Commence Endpoint at the client.<a href="#section-8.7-2" class="pilcrow">¶</a></p>
<p id="section-8.7-3">The message must be signed by the server.<a href="#section-8.7-3" class="pilcrow">¶</a></p>
<p id="section-8.7-4">The parameters of this message consist of the following:<a href="#section-8.7-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.7-5.1">
            <p id="section-8.7-5.1.1">messageType REQUIRED urn:ietf:satp:msgtype:ack-commence-msg<a href="#section-8.7-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.7-5.2">
            <p id="section-8.7-5.2.1">sessionId REQUIRED: A unique identifier (e.g. UUIDv4) chosen earlier
by client in the Initialization Request Message.<a href="#section-8.7-5.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.7-5.3">
            <p id="section-8.7-5.3.1">transferContextId REQUIRED: A unique identifier (e.g. UUIDv4)
used to identify the current transfer session at the application layer.<a href="#section-8.7-5.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.7-5.4">
            <p id="section-8.7-5.4.1">hashPrevMessage REQUIRED.The hash of the last message, in this case the
the Transfer Commence Message.<a href="#section-8.7-5.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.7-5.5">
            <p id="section-8.7-5.5.1">serverSignature REQUIRED. The digital signature of the server.<a href="#section-8.7-5.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.7-6">An example of a success response could be as follows: (TBD).<a href="#section-8.7-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="lock-assertion-stage-stage-2">
<section id="section-9">
      <h2 id="name-lock-assertion-stage-stage-">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-lock-assertion-stage-stage-" class="section-name selfRef">Lock Assertion Stage (Stage 2)</a>
      </h2>
<div id="satp-stage2-section">
<p id="section-9-1">The messages in this stage pertain to the sender gateway providing
the recipient gateway with a signed assertion that the asset in the origin asset network
has been locked or disabled and under the control of the sender gateway.<a href="#section-9-1" class="pilcrow">¶</a></p>
</div>
<p id="section-9-2">In the following, the sender gateway takes the role of the client
while the recipient gateway takes the role of the server.<a href="#section-9-2" class="pilcrow">¶</a></p>
<p id="section-9-3">The flow follows a request-response model.
The client makes a request (POST) to the Lock-Assertion Endpoint at the server.<a href="#section-9-3" class="pilcrow">¶</a></p>
<p id="section-9-4">Gateways MUST support the use of the HTTP GET and POST methods
defined in RFC 2616 [RFC2616] for the endpoint.<a href="#section-9-4" class="pilcrow">¶</a></p>
<p id="section-9-5">Clients MAY use the HTTP GET or POST methods to send messages in this stage to the server.
If using the HTTP GET method, the request parameters may be serialized
using URI Query String Serialization.<a href="#section-9-5" class="pilcrow">¶</a></p>
<p id="section-9-6">(NOTE: Flows occur over TLS. Nonces are not shown).<a href="#section-9-6" class="pilcrow">¶</a></p>
<div id="lock-assertion-message">
<section id="section-9.1">
        <h3 id="name-lock-assertion-message">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-lock-assertion-message" class="section-name selfRef">Lock Assertion Message</a>
        </h3>
<div id="satp-lock-assertion-message-sec">
<p id="section-9.1-1">The purpose of this message is for the client (sender gateway) to
convey a signed claim to the server (receiver gateway) declaring that the asset in
question has been locked or escrowed by the client in the origin
network (e.g. to prevent double spending).<a href="#section-9.1-1" class="pilcrow">¶</a></p>
</div>
<p id="section-9.1-2">The format of the claim is dependent on the network or system
of the client and is outside the scope of this specification.<a href="#section-9.1-2" class="pilcrow">¶</a></p>
<p id="section-9.1-3">This message is sent from the client to the Lock Assertion Endpoint at the server.<a href="#section-9.1-3" class="pilcrow">¶</a></p>
<p id="section-9.1-4">The server must validate the claims (payload)
in this message prior to the next step.<a href="#section-9.1-4" class="pilcrow">¶</a></p>
<p id="section-9.1-5">The message must be signed by the client.<a href="#section-9.1-5" class="pilcrow">¶</a></p>
<p id="section-9.1-6">The parameters of this message consists of the following:<a href="#section-9.1-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.1-7.1">
            <p id="section-9.1-7.1.1">messageType REQUIRED urn:ietf:satp:msgtype:lock-assert-msg.<a href="#section-9.1-7.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-9.1-7.2">
            <p id="section-9.1-7.2.1">sessionId REQUIRED: A unique identifier (e.g. UUIDv4) chosen earlier
by client in the Initialization Request Message.<a href="#section-9.1-7.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-9.1-7.3">
            <p id="section-9.1-7.3.1">transferContextId REQUIRED: A unique identifier (e.g. UUIDv4)
used to identify the current transfer session at the application layer.<a href="#section-9.1-7.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-9.1-7.4">
            <p id="section-9.1-7.4.1">lock_assertion_claim REQUIRED. The lock assertion claim or statement by the client.<a href="#section-9.1-7.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-9.1-7.5">
            <p id="section-9.1-7.5.1">lock_assertion_claim_format REQUIRED. The format of the claim.<a href="#section-9.1-7.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-9.1-7.6">
            <p id="section-9.1-7.6.1">lock_assertion_expiration REQUIRED. The duration of time of the lock or escrow upon the asset.<a href="#section-9.1-7.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-9.1-7.7">
            <p id="section-9.1-7.7.1">hashPrevMessage REQUIRED. The hash of the previous message.<a href="#section-9.1-7.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-9.1-7.8">
            <p id="section-9.1-7.8.1">clientSignature REQUIRED. The digital signature of the client.<a href="#section-9.1-7.8.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="lock-assertion-receipt-message">
<section id="section-9.2">
        <h3 id="name-lock-assertion-receipt-mess">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-lock-assertion-receipt-mess" class="section-name selfRef">Lock Assertion Receipt Message</a>
        </h3>
<div id="satp-lock-assertion-receipt-section">
<p id="section-9.2-1">The purpose of this message is for the server (receiver gateway)
to indicate acceptance of the claim(s) in the lock-assertion message
delivered by the client (sender gateway) in the previous message.<a href="#section-9.2-1" class="pilcrow">¶</a></p>
</div>
<p id="section-9.2-2">This message is sent from the server to the Assertion Receipt Endpoint
at the client.<a href="#section-9.2-2" class="pilcrow">¶</a></p>
<p id="section-9.2-3">The message must be signed by the server.<a href="#section-9.2-3" class="pilcrow">¶</a></p>
<p id="section-9.2-4">The parameters of this message consists of the following:<a href="#section-9.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.2-5.1">
            <p id="section-9.2-5.1.1">messageType REQUIRED urn:ietf:satp:msgtype:assertion-receipt-msg.<a href="#section-9.2-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-9.2-5.2">
            <p id="section-9.2-5.2.1">sessionId REQUIRED: A unique identifier (e.g. UUIDv4) chosen earlier
by client in the Initialization Request Message.<a href="#section-9.2-5.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-9.2-5.3">
            <p id="section-9.2-5.3.1">transferContextId REQUIRED: A unique identifier (e.g. UUIDv4)
used to identify the current transfer session at the application layer.<a href="#section-9.2-5.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-9.2-5.4">
            <p id="section-9.2-5.4.1">hashPrevMessage REQUIRED. The hash of previous message.<a href="#section-9.2-5.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-9.2-5.5">
            <p id="section-9.2-5.5.1">serverSignature REQUIRED. The digital signature of the server.<a href="#section-9.2-5.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="commitment-preparation-and-finalization-stage-3">
<section id="section-10">
      <h2 id="name-commitment-preparation-and-">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-commitment-preparation-and-" class="section-name selfRef">Commitment Preparation and Finalization (Stage 3)</a>
      </h2>
<div id="satp-phase3-sec">
<p id="section-10-1">This section describes the transfer commitment agreement between the
client (sender gateway) and the server (receiver gateway).<a href="#section-10-1" class="pilcrow">¶</a></p>
</div>
<p id="section-10-2">This stage must be completed within the time specified
in the lock_assertion_expiration value in the lock-assertion message.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">In the following, the sender gateway takes the role of the client
while the recipient gateway takes the role of the server.<a href="#section-10-3" class="pilcrow">¶</a></p>
<p id="section-10-4">The flow follows a request-response model.
The client makes a request (POST) to the Transfer Commitment endpoint at the server.<a href="#section-10-4" class="pilcrow">¶</a></p>
<p id="section-10-5">Gateways MUST support the use of the HTTP GET and POST methods
defined in RFC 2616 [RFC2616] for the endpoint.<a href="#section-10-5" class="pilcrow">¶</a></p>
<p id="section-10-6">Clients MAY use the HTTP GET or POST methods to send messages in this stage to the server.
If using the HTTP GET method, the request parameters maybe serialized
using URI Query String Serialization.<a href="#section-10-6" class="pilcrow">¶</a></p>
<p id="section-10-7">The client and server may be required to sign certain messages
in order to provide standalone proof (for non-repudiation) independent of the
secure channel between the client and server.
This proof maybe required for audit verifications post-event.<a href="#section-10-7" class="pilcrow">¶</a></p>
<p id="section-10-8">(NOTE: Flows occur over TLS. Nonces are not shown).<a href="#section-10-8" class="pilcrow">¶</a></p>
<div id="commit-preparation-message-commit-prepare">
<section id="section-10.1">
        <h3 id="name-commit-preparation-message-">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-commit-preparation-message-" class="section-name selfRef">Commit Preparation Message (Commit-Prepare)</a>
        </h3>
<div id="satp-commit-preparation-message-sec">
<p id="section-10.1-1">The purpose of this message is for the client to indicate
its readiness to begin the commitment of the transfer.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
</div>
<p id="section-10.1-2">This message is sent from the client to the Commit Prepare Endpoint at the server.<a href="#section-10.1-2" class="pilcrow">¶</a></p>
<p id="section-10.1-3">The message must be signed by the client.<a href="#section-10.1-3" class="pilcrow">¶</a></p>
<p id="section-10.1-4">The parameters of this message consists of the following:<a href="#section-10.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.1-5.1">
            <p id="section-10.1-5.1.1">messageType REQUIRED. It MUST be the value urn:ietf:satp:msgtype:commit-prepare-msg<a href="#section-10.1-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.1-5.2">
            <p id="section-10.1-5.2.1">sessionId REQUIRED: A unique identifier (e.g. UUIDv4) chosen earlier
by client in the Initialization Request Message.<a href="#section-10.1-5.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.1-5.3">
            <p id="section-10.1-5.3.1">transferContextId REQUIRED: A unique identifier (e.g. UUIDv4)
used to identify the current transfer session at the application layer.<a href="#section-10.1-5.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.1-5.4">
            <p id="section-10.1-5.4.1">hashPrevMessage REQUIRED. The hash of previous message.<a href="#section-10.1-5.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.1-5.5">
            <p id="section-10.1-5.5.1">clientSignature REQUIRED. The digital signature of the client.<a href="#section-10.1-5.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="commit-ready-message-commit-ready">
<section id="section-10.2">
        <h3 id="name-commit-ready-message-commit">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-commit-ready-message-commit" class="section-name selfRef">Commit Ready Message (Commit-Ready)</a>
        </h3>
<div id="satp-commit-ready-section">
<p id="section-10.2-1">The purpose The purpose of this message is for the server to indicate to the client that:
(i) the server has created (minted) an equivalent asset in the destination
network;
(ii) that the newly minted asset has been self-assigned to the server;
and (iii) that the server is ready to proceed to the next step.<a href="#section-10.2-1" class="pilcrow">¶</a></p>
</div>
<p id="section-10.2-2">This message is sent from the server to the Commit Ready Endpoint at the client.<a href="#section-10.2-2" class="pilcrow">¶</a></p>
<p id="section-10.2-3">The message must be signed by the server.<a href="#section-10.2-3" class="pilcrow">¶</a></p>
<p id="section-10.2-4">The parameters of this message consists of the following:<a href="#section-10.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.2-5.1">
            <p id="section-10.2-5.1.1">messageType REQUIRED. It MUST be the value urn:ietf:satp:msgtype:commit-ready-msg.<a href="#section-10.2-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.2-5.2">
            <p id="section-10.2-5.2.1">sessionId REQUIRED: A unique identifier (e.g. UUIDv4) chosen earlier
by client in the Initialization Request Message.<a href="#section-10.2-5.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.2-5.3">
            <p id="section-10.2-5.3.1">transferContextId REQUIRED: A unique identifier (e.g. UUIDv4)
used to identify the current transfer session at the application layer.<a href="#section-10.2-5.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.2-5.4">
            <p id="section-10.2-5.4.1">mintAssertionClaims REQUIRED. The mint assertion claim or statement by the server.<a href="#section-10.2-5.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.2-5.5">
            <p id="section-10.2-5.5.1">mintAssertionFormat OPTIONAL. The format of the assertion payload.<a href="#section-10.2-5.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.2-5.6">
            <p id="section-10.2-5.6.1">hashPrevMessage REQUIRED. The hash of previous message.<a href="#section-10.2-5.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.2-5.7">
            <p id="section-10.2-5.7.1">serverSignature REQUIRED. The digital signature of the server.<a href="#section-10.2-5.7.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="commit-final-assertion-message-commit-final">
<section id="section-10.3">
        <h3 id="name-commit-final-assertion-mess">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-commit-final-assertion-mess" class="section-name selfRef">Commit Final Assertion Message (Commit-Final)</a>
        </h3>
<div id="satp-commit-final-message-section">
<p id="section-10.3-1">The purpose of this message is for the client to indicate to the server
that the client (sender gateway) has completed the extinguishment (burn)
of the asset in the origin network.<a href="#section-10.3-1" class="pilcrow">¶</a></p>
</div>
<p id="section-10.3-2">The message must contain standalone claims related
to the extinguishment of the asset by the client.
The standalone claim must be signed by the client.<a href="#section-10.3-2" class="pilcrow">¶</a></p>
<p id="section-10.3-3">This message is sent from the client to the Commit Final Assertion Endpoint at the server.<a href="#section-10.3-3" class="pilcrow">¶</a></p>
<p id="section-10.3-4">The message must be signed by the server.<a href="#section-10.3-4" class="pilcrow">¶</a></p>
<p id="section-10.3-5">The parameters of this message consists of the following:<a href="#section-10.3-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.3-6.1">
            <p id="section-10.3-6.1.1">messageType REQUIRED. It MUST be the value urn:ietf:satp:msgtype:commit-final-msg.<a href="#section-10.3-6.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.3-6.2">
            <p id="section-10.3-6.2.1">sessionId REQUIRED: A unique identifier (e.g. UUIDv4) chosen earlier
by client in the Initialization Request Message.<a href="#section-10.3-6.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.3-6.3">
            <p id="section-10.3-6.3.1">transferContextId REQUIRED: A unique identifier (e.g. UUIDv4)
used to identify the current transfer session at the application layer.<a href="#section-10.3-6.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.3-6.4">
            <p id="section-10.3-6.4.1">burnAssertionClaim REQUIRED. The burn assertion signed claim or statement by the client.<a href="#section-10.3-6.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.3-6.5">
            <p id="section-10.3-6.5.1">burnAssertionClaimFormat OPTIONAL. The format of the claim.<a href="#section-10.3-6.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.3-6.6">
            <p id="section-10.3-6.6.1">hashPrevMessage REQUIRED. The hash of previous message.<a href="#section-10.3-6.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.3-6.7">
            <p id="section-10.3-6.7.1">clientSignature REQUIRED. The digital signature of the client.<a href="#section-10.3-6.7.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="commit-final-acknowledgement-receipt-message-ack-final-receipt">
<section id="section-10.4">
        <h3 id="name-commit-final-acknowledgemen">
<a href="#section-10.4" class="section-number selfRef">10.4. </a><a href="#name-commit-final-acknowledgemen" class="section-name selfRef">Commit-Final Acknowledgement Receipt Message (ACK-Final-Receipt)</a>
        </h3>
<div id="satp--final-ack-section">
<p id="section-10.4-1">The purpose of this message is to indicate to the client that the server has
completed the assignment of the newly minted asset to
the intended beneficiary at the destination network.<a href="#section-10.4-1" class="pilcrow">¶</a></p>
</div>
<p id="section-10.4-2">This message is sent from the server to the Commit Final Receipt Endpoint at the client.<a href="#section-10.4-2" class="pilcrow">¶</a></p>
<p id="section-10.4-3">The message must be signed by the server.<a href="#section-10.4-3" class="pilcrow">¶</a></p>
<p id="section-10.4-4">The parameters of this message consists of the following:<a href="#section-10.4-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.4-5.1">
            <p id="section-10.4-5.1.1">messageType REQUIRED. It MUST be the value urn:ietf:satp:msgtype:ack-commit-final-msg.<a href="#section-10.4-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.4-5.2">
            <p id="section-10.4-5.2.1">sessionId REQUIRED: A unique identifier (e.g. UUIDv4) chosen earlier
by client in the Initialization Request Message.<a href="#section-10.4-5.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.4-5.3">
            <p id="section-10.4-5.3.1">transferContextId REQUIRED: A unique identifier (e.g. UUIDv4)
used to identify the current transfer session at the application layer.<a href="#section-10.4-5.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.4-5.4">
            <p id="section-10.4-5.4.1">assignmentAssertionClaim REQUIRED. The claim or statement by the server
that the asset has been assigned by the server to the intended beneficiary.<a href="#section-10.4-5.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.4-5.5">
            <p id="section-10.4-5.5.1">assignmentAssertionClaimFormat OPTIONAL. The format of the claim.<a href="#section-10.4-5.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.4-5.6">
            <p id="section-10.4-5.6.1">hashPrevMessage REQUIRED. The hash of previous message.<a href="#section-10.4-5.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.4-5.7">
            <p id="section-10.4-5.7.1">serverSignature REQUIRED. The digital signature of the server.<a href="#section-10.4-5.7.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="transfer-complete-message">
<section id="section-10.5">
        <h3 id="name-transfer-complete-message">
<a href="#section-10.5" class="section-number selfRef">10.5. </a><a href="#name-transfer-complete-message" class="section-name selfRef">Transfer Complete Message</a>
        </h3>
<div id="satp-transfer-complete-message-section">
<p id="section-10.5-1">The purpose of this message is for the client to indicate to the server that
the asset transer session (identified by sessionId)
has been completed and that no further messages are to be
expected from the client in regards to this transfer instance.<a href="#section-10.5-1" class="pilcrow">¶</a></p>
</div>
<p id="section-10.5-2">The message closes the first message of Stage 2 (Transfer Commence Message).<a href="#section-10.5-2" class="pilcrow">¶</a></p>
<p id="section-10.5-3">This message is sent from the client to the Transfer Complete Endpoint at the server.<a href="#section-10.5-3" class="pilcrow">¶</a></p>
<p id="section-10.5-4">The message must be signed by the client.<a href="#section-10.5-4" class="pilcrow">¶</a></p>
<p id="section-10.5-5">The parameters of this message consists of the following:<a href="#section-10.5-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.5-6.1">
            <p id="section-10.5-6.1.1">messageType REQUIRED. It MUST be the value urn:ietf:satp:msgtype:commit-transfer-complete-msg.<a href="#section-10.5-6.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.5-6.2">
            <p id="section-10.5-6.2.1">sessionId REQUIRED: A unique identifier (e.g. UUIDv4) chosen earlier
by client in the Initialization Request Message.<a href="#section-10.5-6.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.5-6.3">
            <p id="section-10.5-6.3.1">transferContextId REQUIRED: A unique identifier (e.g. UUIDv4)
used to identify the current transfer session at the application layer.<a href="#section-10.5-6.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.5-6.4">
            <p id="section-10.5-6.4.1">hashPrevMessage REQUIRED. The hash of previous message.<a href="#section-10.5-6.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.5-6.5">
            <p id="section-10.5-6.5.1">hashTransferCommence REQUIRED. The hash of the Transfer Commence message
at the start of Stage 2.<a href="#section-10.5-6.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.5-6.6">
            <p id="section-10.5-6.6.1">clientSignature REQUIRED. The digital signature of the client.<a href="#section-10.5-6.6.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="satp-session-resumption">
<section id="section-11">
      <h2 id="name-satp-session-resumption">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-satp-session-resumption" class="section-name selfRef">SATP Session Resumption</a>
      </h2>
<div id="satp-session-resume-section">
<p id="section-11-1">This section answers the question how can a backup gateway build trust
with the counter party gateway to resume the execution of the protocol,
in the presence of errors and crashes?<a href="#section-11-1" class="pilcrow">¶</a></p>
</div>
<p id="section-11-2">Gateways may enter faulty state at any time while execution the protocol.
The faulty state can manifest itself by incorrect behavior,
leading to gateways emitting alerts and errors.<a href="#section-11-2" class="pilcrow">¶</a></p>
<p id="section-11-3">In some instances, gateways may crash.
We employ either the primary-backup or self-healing paradigm,
meaning that the crashed gateway will eventually be replaced
by a functioning one, or recover, respectively.<a href="#section-11-3" class="pilcrow">¶</a></p>
<p id="section-11-4">When a crash occurs, we initiate a recovery procedure by
the backup gateway or the recovered gateway, as defined in the
crash recovery draft <span>[<a href="#I-D.draft-belchior-satp-gateway-recovery" class="cite xref">I-D.draft-belchior-satp-gateway-recovery</a>]</span>.
In either case, if the recovery happenswithin a time period defined as max_timeout (in Stage 2), the recovered gateway triggers a session resumption.
The schema and order of the recovered messages is specified in the crash recovery draft.<a href="#section-11-4" class="pilcrow">¶</a></p>
<p id="section-11-5">In the case where there is no answer from the gateway within the specified max_timeout,
the counter-party gateway rollbacks the process until that stage.
Upon recovery, the crashed gateway learns that the counterparty gateway
has initated a rollback, and it proceeds accordingly (by also initating a rollback).
Note that rollbacks can also happen in case of unresolved errors.<a href="#section-11-5" class="pilcrow">¶</a></p>
<p id="section-11-6">The non-crashed gateway that conducts the rollback tries to communicate
with the crashed gateway from time to time (self healing) or to contact
the backup gateways (primary-backup).
In any case, and upon the completion of a rollback,
the non-crashed gateway sends a ROLLBACK message
to the recovered gateway to notify that a rollback happened.
The recovered gateway should answer with ROLLBACK-ACK.<a href="#section-11-6" class="pilcrow">¶</a></p>
<p id="section-11-7">Since the self-healing recovery process does not require
changes to the protocol (since from the counterparty gateway perspective,
the sender gateway is just taking longer than normal;
there are no new actions done or logs recorded),
we focus on the primary-backup paradigm.<a href="#section-11-7" class="pilcrow">¶</a></p>
<div id="primary-backup-session-resumption">
<section id="section-11.1">
        <h3 id="name-primary-backup-session-resu">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-primary-backup-session-resu" class="section-name selfRef">Primary-Backup Session Resumption</a>
        </h3>
<div id="satp-session-resume-section-pb">
<p id="section-11.1-1">Upon a gateway recovering using primary-backup,
a new gateway (recovered gateway) takes over the crashed gateway.
The counter-party gateway assures that the recovered gateway
is legitimate (according to the crash recovery specification).<a href="#section-11.1-1" class="pilcrow">¶</a></p>
</div>
<p id="section-11.1-2">After the recovery, the gateways exchange information about
their current view of the protocol, since the crashed gateway
may have been in the middle of executing the protocol when it crashed.<a href="#section-11.1-2" class="pilcrow">¶</a></p>
<p id="section-11.1-3">After that, the gateways agree on the current state of the protocol.<a href="#section-11.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="recovery-messages">
<section id="section-11.2">
        <h3 id="name-recovery-messages">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-recovery-messages" class="section-name selfRef">Recovery Messages</a>
        </h3>
<div id="satp-session-resume-recovery-msg">
<p id="section-11.2-1">We have omitted the logging procedure (only focusing the different messages).
As defined in the crash recovery draft <span>[<a href="#I-D.draft-belchior-satp-gateway-recovery" class="cite xref">I-D.draft-belchior-satp-gateway-recovery</a>]</span>,
there are a set of messages that are exchanged between the recovered
gateway and counterparty gateway:<a href="#section-11.2-1" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-11.2-2.1">
            <p id="section-11.2-2.1.1">RECOVER: when a gateway crashes and recovers,
it sends a RECOVER message to the counterparty gateway,
informing them of its most recent state.
The message contains various parameters such as the session ID,
message type, SATP stage, sequence number,
a flag indicating if the sender is a backup gateway,
the new public key if the sender is a backup,
the timestamp of the last known log entry, and the sender's digital signature.<a href="#section-11.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-11.2-2.2">
            <p id="section-11.2-2.2.1">RECOVER-UPDATE: Upon receiving the RECOVER message,
the counterparty gateway sends a RECOVER-UPDATE message.
This message carries the difference between the log entry
corresponding to the received sequence number from the
recovered gateway and the latest sequence number
(corresponding to the latest log entry).
The message includes parameters such as the session ID, message type,
the hash of the previous message, the list of log messages that
the recovered gateway needs to update, and the sender's digital signature.<a href="#section-11.2-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-11.2-2.3">
            <p id="section-11.2-2.3.1">RECOVER-SUCCESS: The recovered gateway responds with
a RECOVER-SUCCESS message if its logs have been successfully updated.
If there are inconsistencies detected,
the recovered gateway initiates a dispute with a RECOVER-DISPUTE message.
The message parameters include session ID, message type,
the hash of the previous message, a boolean indicating success,
a list of hashes of log entries that were appended to the
recovered gateway log, and the sender's digital signature.<a href="#section-11.2-2.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-11.2-3">In case the recovery procedure has failed and a rollback process
is needed, the following messages are used:<a href="#section-11.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.2-4.1">
            <p id="section-11.2-4.1.1">ROLLBACK: A gateway that initiates a rollback sends a ROLLBACK message.
The message parameters include session ID, message type,
a boolean indicating success, a list of actions performed
to rollback a state (e.g., UNLOCK, BURN), a list of proofs
specific to the DLT [SATP], and the sender's digital signature.<a href="#section-11.2-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-11.2-4.2">
            <p id="section-11.2-4.2.1">ROLLBACK-ACK: Upon successful rollback, the counterparty
gateway sends a ROLLBACK-ACK message to the recovered gateway acknowledging
that the rollback has been performed successfully.
The message parameters are similar to those of the ROLLBACK message.<a href="#section-11.2-4.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="error-messages">
<section id="section-12">
      <h2 id="name-error-messages">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-error-messages" class="section-name selfRef">Error Messages</a>
      </h2>
<div id="satp-alert-error-messages">
<p id="section-12-1">SATP distinguishes between
application driven closures (terminations) and
those caused by errors at the SATP protocol level.<a href="#section-12-1" class="pilcrow">¶</a></p>
</div>
<p id="section-12-2">The list of errors and desciption can be found in the Appendix.<a href="#section-12-2" class="pilcrow">¶</a></p>
<p id="section-12-3">```
enum { sessionClosure(1), nonfatalError (2) fatalError(3), (255) } AlertLevel;<a href="#section-12-3" class="pilcrow">¶</a></p>
<p id="section-12-4">enum {
 closeNotify(0),
 badCertificate(42),
 unsupportedCertificate(43),
 certificateRevoked(44),
 certificateExpired(45),
 certificateUnknown(46),
 illegalParameter(47),
 TBD
 (255)
} AlertDescription;<a href="#section-12-4" class="pilcrow">¶</a></p>
<p id="section-12-5">struct {
 AlertLevel level;
 AlertDescription description;
} Alert;
```<a href="#section-12-5" class="pilcrow">¶</a></p>
<div id="fig-error-format">
<section id="section-12.1">
        <h3 id="name-closure-alerts">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-closure-alerts" class="section-name selfRef">Closure Alerts</a>
        </h3>
<div id="satp-closure-alerts-section">
<p id="section-12.1-1">The SATP client and server (gateways) must share knowledge that
the transfer connection is ending in order to avoid third party attacks.<a href="#section-12.1-1" class="pilcrow">¶</a></p>
</div>
<p id="section-12.1-2">(a) closeNotify: This alert notifies the recipient that the sender gateway
will not send any more messages on this transfer connection.
Any data received after a closure alert has been received MUST be ignored.<a href="#section-12.1-2" class="pilcrow">¶</a></p>
<p id="section-12.1-3">(b) userCanceled: This alert notifies the recipient that the sender gateway
is canceling the transfer connection for some reason unrelated to a protocol failure.<a href="#section-12.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="error-alerts">
<section id="section-12.2">
        <h3 id="name-error-alerts">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-error-alerts" class="section-name selfRef">Error Alerts</a>
        </h3>
<div id="error-alerts-section">
<p id="section-12.2-1">When an error is detected by a SATP gateway, the detecting gateway sends a message to its peer.<a href="#section-12.2-1" class="pilcrow">¶</a></p>
</div>
<p id="section-12.2-2">Upon transmission or receipt of a fatal alert message, both gateways MUST immediately close the connection.
Whenever a SATP implementation encounters a fatal error condition,
it SHOULD send an appropriate fatal alert and
MUST close the connection without sending or receiving any additional data.<a href="#section-12.2-2" class="pilcrow">¶</a></p>
<p id="section-12.2-3">The following error alerts are defined:<a href="#section-12.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.2-4.1">
            <p id="section-12.2-4.1.1">connectionError: There is an error in the TLS session establishment
(TLS error codes should be reported-up to gateway level)<a href="#section-12.2-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-12.2-4.2">
            <p id="section-12.2-4.2.1">badCertificate: The gateway certificate was corrupt, contained signatures,
that did not verify correctly, etc.
(Some common TLS level errors: unsupported_certificate,
certificate_revoked, certificate_expired, certificate_unknown, unknown_ca).<a href="#section-12.2-4.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-12.2-4.3">
            <p id="section-12.2-4.3.1">protocolVersionError: The SATP protocol version the peer
has attempted to negotiate is recognized but not supported.<a href="#section-12.2-4.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-12.2-4.4">
            <p id="section-12.2-4.4.1">(Others TBD)<a href="#section-12.2-4.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="security-consideration">
<section id="section-13">
      <h2 id="name-security-consideration">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-security-consideration" class="section-name selfRef">Security Consideration</a>
      </h2>
<div id="satp-Security-Consideration">
<p id="section-13-1">Gateways are of particular interest to attackers because
they are a kind of end-to-end pipeline that enable the transferral of
digital assets to external networks or systems.
Thus, attacking a gateway may be attractive to attackers instead of
the network behind a gateway.<a href="#section-13-1" class="pilcrow">¶</a></p>
</div>
<p id="section-13-2">As such, hardware hardening technologies and
tamper-resistant crypto-processors (e.g. TPM, Secure Enclaves, SGX)
should be considered for implementations of gateways.<a href="#section-13-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-consideration">
<section id="section-14">
      <h2 id="name-iana-consideration">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-iana-consideration" class="section-name selfRef">IANA Consideration</a>
      </h2>
<div id="satp-iana-Consideration">
<p id="section-14-1">(TBD)<a href="#section-14-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="appendix-error-types">
<section id="section-15">
      <h2 id="name-appendix-error-types">
<a href="#section-15" class="section-number selfRef">15. </a><a href="#name-appendix-error-types" class="section-name selfRef">Appendix: Error Types</a>
      </h2>
<div id="error-types-section">
<p id="section-15-1">The following lists the error associated with each message in SATP.<a href="#section-15-1" class="pilcrow">¶</a></p>
</div>
<p id="section-15-2">(Note: these have been laid out for convenience, and may be grouped together more efficiently later).<a href="#section-15-2" class="pilcrow">¶</a></p>
<div id="transfer-commence-and-response-errors">
<section id="section-15.1">
        <h3 id="name-transfer-commence-and-respo">
<a href="#section-15.1" class="section-number selfRef">15.1. </a><a href="#name-transfer-commence-and-respo" class="section-name selfRef">Transfer Commence and Response errors</a>
        </h3>
<div id="errors-transfer-commence">
<p id="section-15.1-1">The following are the list of errors related to Transfer Commence and Response:<a href="#section-15.1-1" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-15.1-2.1">
            <p id="section-15.1-2.1.1">err_2.1: Badly formed message.<a href="#section-15.1-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.1-2.2">
            <p id="section-15.1-2.2.1">err_2.2: Incorrect parameter.<a href="#section-15.1-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.1-2.3">
            <p id="section-15.1-2.3.1">err_2.3: ACK mismatch.<a href="#section-15.1-2.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="lock-assertion-errors">
<section id="section-15.2">
        <h3 id="name-lock-assertion-errors">
<a href="#section-15.2" class="section-number selfRef">15.2. </a><a href="#name-lock-assertion-errors" class="section-name selfRef">Lock Assertion errors</a>
        </h3>
<div id="errors-lock-assertion">
<p id="section-15.2-1">The following are the list of errors related to Lock Assertion:<a href="#section-15.2-1" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-15.2-2.1">
            <p id="section-15.2-2.1.1">err_2.4.1: Badly formed message: badly formed Claim.<a href="#section-15.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.2-2.2">
            <p id="section-15.2-2.2.1">err_2.4.2: Badly formed message: bad signature.<a href="#section-15.2-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.2-2.3">
            <p id="section-15.2-2.3.1">err_2.4.3: Badly formed message: wrong transaction ID.<a href="#section-15.2-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.2-2.4">
            <p id="section-15.2-2.4.1">err_2.4.4: Badly formed message: Mismatch hash values.<a href="#section-15.2-2.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.2-2.5">
            <p id="section-15.2-2.5.1">err_2.4.5: Expired signing-key certificate.<a href="#section-15.2-2.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.2-2.6">
            <p id="section-15.2-2.6.1">err_2.4.6: Expired Claim.<a href="#section-15.2-2.6.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="lock-assertion-receipt-errors">
<section id="section-15.3">
        <h3 id="name-lock-assertion-receipt-erro">
<a href="#section-15.3" class="section-number selfRef">15.3. </a><a href="#name-lock-assertion-receipt-erro" class="section-name selfRef">Lock Assertion Receipt errors</a>
        </h3>
<div id="errors-lock-assertion-receipt">
<p id="section-15.3-1">The following are the list of errors related to Lock Assertion Receipt:<a href="#section-15.3-1" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-15.3-2.1">
            <p id="section-15.3-2.1.1">err_2.6.1: Badly formed message: badly formed Claim.<a href="#section-15.3-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.3-2.2">
            <p id="section-15.3-2.2.1">err_2.6.2: Badly formed message: bad signature.<a href="#section-15.3-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.3-2.3">
            <p id="section-15.3-2.3.1">err_2.6.3: Badly formed message: wrong transaction ID.<a href="#section-15.3-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.3-2.4">
            <p id="section-15.3-2.4.1">err_2.6.4: Badly formed message: Mismatch hash values.<a href="#section-15.3-2.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.3-2.5">
            <p id="section-15.3-2.5.1">err_2.6.5: Expired signing-key certificate.<a href="#section-15.3-2.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.3-2.6">
            <p id="section-15.3-2.6.1">err_2.6.6: Expired Claim.<a href="#section-15.3-2.6.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="commit-preparation-errors">
<section id="section-15.4">
        <h3 id="name-commit-preparation-errors">
<a href="#section-15.4" class="section-number selfRef">15.4. </a><a href="#name-commit-preparation-errors" class="section-name selfRef">Commit Preparation errors</a>
        </h3>
<div id="errors-commit-prepare">
<p id="section-15.4-1">The following are the list of errors related to Commit Preparation:<a href="#section-15.4-1" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-15.4-2.1">
            <p id="section-15.4-2.1.1">err_3.1.1: Badly formed message: wrong transaction ID.<a href="#section-15.4-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.4-2.2">
            <p id="section-15.4-2.2.1">err_3.1.2: Badly formed message: mismatch hash value (i.e. from msg 2.6).<a href="#section-15.4-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.4-2.3">
            <p id="section-15.4-2.3.1">err_3.1.3: Incorrect parameter.<a href="#section-15.4-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.4-2.4">
            <p id="section-15.4-2.4.1">err_3.1.4: Message out of sequence.<a href="#section-15.4-2.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="commit-preparation-acknowledgement-errors">
<section id="section-15.5">
        <h3 id="name-commit-preparation-acknowle">
<a href="#section-15.5" class="section-number selfRef">15.5. </a><a href="#name-commit-preparation-acknowle" class="section-name selfRef">Commit Preparation Acknowledgement errors</a>
        </h3>
<div id="errors-commit-prepare-ack">
<p id="section-15.5-1">The following are the list of errors related to Commit Preparation Acknowledgement:<a href="#section-15.5-1" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-15.5-2.1">
            <p id="section-15.5-2.1.1">err_3.2.1: Badly formed message: wrong transaction ID.<a href="#section-15.5-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.5-2.2">
            <p id="section-15.5-2.2.1">err_3.2.2: Badly formed message: mismatch hash value.<a href="#section-15.5-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.5-2.3">
            <p id="section-15.5-2.3.1">err_3.2.3: Incorrect parameter.<a href="#section-15.5-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.5-2.4">
            <p id="section-15.5-2.4.1">err_3.2.4: Message out of sequence.<a href="#section-15.5-2.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="commit-ready-errors">
<section id="section-15.6">
        <h3 id="name-commit-ready-errors">
<a href="#section-15.6" class="section-number selfRef">15.6. </a><a href="#name-commit-ready-errors" class="section-name selfRef">Commit Ready errors</a>
        </h3>
<div id="errors-commit-ready">
<p id="section-15.6-1">The following are the list of errors related to Commit Ready:<a href="#section-15.6-1" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-15.6-2.1">
            <p id="section-15.6-2.1.1">err_3.4.1: Badly formed message: wrong transaction ID.<a href="#section-15.6-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.6-2.2">
            <p id="section-15.6-2.2.1">err_3.4.2: Badly formed message: mismatch hash value.<a href="#section-15.6-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.6-2.3">
            <p id="section-15.6-2.3.1">err_3.4.3: Incorrect parameter.<a href="#section-15.6-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.6-2.4">
            <p id="section-15.6-2.4.1">err_3.4.4: Message out of sequence (ACK mismatch).<a href="#section-15.6-2.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="commit-final-assertion-errors">
<section id="section-15.7">
        <h3 id="name-commit-final-assertion-erro">
<a href="#section-15.7" class="section-number selfRef">15.7. </a><a href="#name-commit-final-assertion-erro" class="section-name selfRef">Commit Final Assertion errors</a>
        </h3>
<div id="errors-commit-final-assertion">
<p id="section-15.7-1">The following are the list of errors related to Commit Final Assertion:<a href="#section-15.7-1" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-15.7-2.1">
            <p id="section-15.7-2.1.1">err_3.6.1: Badly formed message: badly formed Claim.<a href="#section-15.7-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.7-2.2">
            <p id="section-15.7-2.2.1">err_3.6.2: Badly formed message: bad signature.<a href="#section-15.7-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.7-2.3">
            <p id="section-15.7-2.3.1">err_3.6.3: Badly formed message: wrong transaction ID.<a href="#section-15.7-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.7-2.4">
            <p id="section-15.7-2.4.1">err_3.6.4: Badly formed message: Mismatch hash values.<a href="#section-15.7-2.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.7-2.5">
            <p id="section-15.7-2.5.1">err_3.6.5: Expired signing-key certificate.<a href="#section-15.7-2.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-15.7-2.6">
            <p id="section-15.7-2.6.1">err_3.6.6: Expired Claim.<a href="#section-15.7-2.6.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="sec-combined-references">
<section id="section-16">
      <h2 id="name-references">
<a href="#section-16" class="section-number selfRef">16. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-16.1">
        <h3 id="name-normative-references">
<a href="#section-16.1" class="section-number selfRef">16.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="JWT">[JWT]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">N. Sakimura</span>, <span class="refTitle">"JSON Web Token (JWT)"</span>, <span class="seriesInfo">RFC 7519</span>, <span class="seriesInfo">DOI 10.17487/RFC7519</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7519">https://www.rfc-editor.org/rfc/rfc7519</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="REQ-LEVEL">[REQ-LEVEL]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-16.2">
        <h3 id="name-informative-references">
<a href="#section-16.2" class="section-number selfRef">16.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="ARCH">[ARCH]</dt>
        <dd>
<span class="refAuthor">Hardjono, T.</span>, <span class="refAuthor">Hargreaves, M.</span>, <span class="refAuthor">Smith, N.</span>, and <span class="refAuthor">V. Ramakrishna</span>, <span class="refTitle">"Secure Asset Transfer (SAT) Interoperability Architecture"</span>, <time datetime="2024-06" class="refDate">June 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/draft-ietf-satp-architecture/">https://datatracker.ietf.org/doc/draft-ietf-satp-architecture/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.draft-belchior-satp-gateway-recovery">[I-D.draft-belchior-satp-gateway-recovery]</dt>
        <dd>
<span class="refAuthor">Belchior, R.</span>, <span class="refAuthor">Correia, M.</span>, <span class="refAuthor">Augusto, A.</span>, and <span class="refAuthor">T. Hardjono</span>, <span class="refTitle">"Secure Asset Transfer Protocol (SATP) Gateway Crash Recovery Mechanism"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-belchior-satp-gateway-recovery-02</span>, <time datetime="2024-07-22" class="refDate">22 July 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-belchior-satp-gateway-recovery-02">https://datatracker.ietf.org/doc/html/draft-belchior-satp-gateway-recovery-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="MICA">[MICA]</dt>
        <dd>
<span class="refAuthor">European Commission</span>, <span class="refTitle">"EU Directive on Markets in Crypto-Assets Regulation (MiCA)"</span>, <time datetime="2023-06" class="refDate">June 2023</time>, <span>&lt;<a href="https://www.esma.europa.eu/esmas-activities/digital-finance-and-innovation/markets-crypto-assets-regulation-mica">https://www.esma.europa.eu/esmas-activities/digital-finance-and-innovation/markets-crypto-assets-regulation-mica</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="NIST">[NIST]</dt>
        <dd>
<span class="refAuthor">Yaga, D.</span>, <span class="refAuthor">Mell, P.</span>, <span class="refAuthor">Roby, N.</span>, and <span class="refAuthor">K. Scarfone</span>, <span class="refTitle">"NIST Blockchain Technology Overview (NISTR-8202)"</span>, <time datetime="2018-10" class="refDate">October 2018</time>, <span>&lt;<a href="https://doi.org/10.6028/NIST.IR.8202">https://doi.org/10.6028/NIST.IR.8202</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5939">[RFC5939]</dt>
        <dd>
<span class="refAuthor">Andreasen, F.</span>, <span class="refTitle">"Session Description Protocol (SDP) Capability Negotiation"</span>, <time datetime="2010-09" class="refDate">September 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5939">https://www.rfc-editor.org/info/rfc5939</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9334">[RFC9334]</dt>
      <dd>
<span class="refAuthor">Birkholz, H.</span>, <span class="refAuthor">Thaler, D.</span>, <span class="refAuthor">Richardson, M.</span>, <span class="refAuthor">Smith, N.</span>, and <span class="refAuthor">W. Pan</span>, <span class="refTitle">"Remote Attestation Procedures Architecture (RATS)"</span>, <time datetime="2023-01" class="refDate">January 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9334">https://www.rfc-editor.org/info/rfc9334</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Martin Hargreaves</span></div>
<div dir="auto" class="left"><span class="org">Quant Network</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:martin.hargreaves@quant.network" class="email">martin.hargreaves@quant.network</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Thomas Hardjono</span></div>
<div dir="auto" class="left"><span class="org">MIT</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:hardjono@mit.edu" class="email">hardjono@mit.edu</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Rafael Belchior</span></div>
<div dir="auto" class="left"><span class="org">INESC-ID, Técnico Lisboa, Blockdaemon</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:rafael.belchior@tecnico.ulisboa.pt" class="email">rafael.belchior@tecnico.ulisboa.pt</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Venkatraman Ramakrishna</span></div>
<div dir="auto" class="left"><span class="org">IBM</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:vramakr2@in.ibm.com" class="email">vramakr2@in.ibm.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
